import{s as n,n as e}from"./index.8fe49ea3.js";var r=[];function t(n,e){return{subscribe:i(n,e).subscribe}}function i(t){var i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,u=[];function a(e){if(n(t,e)&&(t=e,i)){for(var s=!r.length,a=0;a<u.length;a+=1){var f=u[a];f[1](),r.push(f,t)}if(s){for(var o=0;o<r.length;o+=2)r[o][0](r[o+1]);r.length=0}}}return{set:a,update:function(n){a(n(t))},subscribe:function(n){var r=[n,arguments.length>1&&void 0!==arguments[1]?arguments[1]:e];return u.push(r),1===u.length&&(i=s(a)||e),n(t),function(){var n=u.indexOf(r);-1!==n&&u.splice(n,1),0===u.length&&(i(),i=null)}}}}export{t as r,i as w};
