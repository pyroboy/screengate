import{_ as e,I as t,L as r}from"./index.8fe49ea3.js";import{c as n,u as i,g as o,a}from"./_commonjsHelpers.e0f9ccb2.js";import{r as s}from"./index.3c143392.js";var u="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function c(t){return(c="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}var l=10,f=2;function h(e){return p(e,[])}function p(e,t){switch(c(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var r=[].concat(t,[e]),n=function(e){var t=e[String(u)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect}(e);if(void 0!==n){var i=n.call(e);if(i!==e)return"string"==typeof i?i:p(i,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>f)return"[Array]";for(var r=Math.min(l,e.length),n=e.length-r,i=[],o=0;o<r;++o)i.push(p(e[o],t));1===n?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items"));return"["+i.join(", ")+"]"}(e,r);return function(e,t){var r=Object.keys(e);if(0===r.length)return"{}";if(t.length>f)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var r=e.constructor.name;if("string"==typeof r&&""!==r)return r}return t}(e)+"]";return"{ "+r.map(function(r){var n=p(e[r],t);return r+": "+n}).join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}var d={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},v=Object.freeze({});function y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d,n=void 0,i=Array.isArray(e),o=[e],a=-1,s=[],u=void 0,c=void 0,l=void 0,f=[],p=[],y=e;do{var g=++a===o.length,w=g&&0!==s.length;if(g){if(c=0===p.length?void 0:f[f.length-1],u=l,l=p.pop(),w){if(i)u=u.slice();else{for(var E={},O=0,T=Object.keys(u);O<T.length;O++){var S=T[O];E[S]=u[S]}u=E}for(var k=0,I=0;I<s.length;I++){var _=s[I][0],x=s[I][1];i&&(_-=k),i&&null===x?(u.splice(_,1),k++):u[_]=x}}a=n.index,o=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(c=l?i?a:o[a]:void 0,null==(u=l?l[c]:y))continue;l&&f.push(c)}var N=void 0;if(!Array.isArray(u)){if(!m(u))throw new Error("Invalid AST Node: "+h(u));var R=b(t,u.kind,g);if(R){if((N=R.call(t,u,c,l,f,p))===v)break;if(!1===N){if(!g){f.pop();continue}}else if(void 0!==N&&(s.push([c,N]),!g)){if(!m(N)){f.pop();continue}u=N}}}void 0===N&&w&&s.push([c,u]),g?f.pop():(n={inArray:i,index:a,keys:o,edits:s,prev:n},o=(i=Array.isArray(u))?u:r[u.kind]||[],a=-1,s=[],l&&p.push(l),l=u)}while(void 0!==n);return 0!==s.length&&(y=s[s.length-1][1]),y}function m(e){return Boolean(e&&"string"==typeof e.kind)}function b(e,t,r){var n=e[t];if(n){if(!r&&"function"==typeof n)return n;var i=r?n.leave:n.enter;if("function"==typeof i)return i}else{var o=r?e.leave:e.enter;if(o){if("function"==typeof o)return o;var a=o[t];if("function"==typeof a)return a}}}var g=function(e,t){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function w(e,t){function r(){this.constructor=e}g(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var E=function(){return(E=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function O(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})}function T(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var S="Invariant Violation",k=Object.setPrototypeOf,I=void 0===k?function(e,t){return e.__proto__=t,e}:k,_=function(e){function t(r){void 0===r&&(r=S);var n=e.call(this,"number"==typeof r?S+": "+r+" (see https://github.com/apollographql/invariant-packages)":r)||this;return n.framesToPop=1,n.name=S,I(n,t.prototype),n}return w(t,e),t}(Error);function x(e,t){if(!e)throw new _(t)}function N(e){return function(){return console[e].apply(console,arguments)}}!function(e){e.warn=N("warn"),e.error=N("error")}(x||(x={}));var R={env:{}};if("object"===("undefined"==typeof process?"undefined":e(process)))R=process;else try{Function("stub","process = stub")(R)}catch(e){}var A=function(t,r){r||(r={}),"function"==typeof r&&(r={cmp:r});var n,i="boolean"==typeof r.cycles&&r.cycles,o=r.cmp&&(n=r.cmp,function(e){return function(t,r){var i={key:t,value:e[t]},o={key:r,value:e[r]};return n(i,o)}}),a=[];return function t(r){if(r&&r.toJSON&&"function"==typeof r.toJSON&&(r=r.toJSON()),void 0!==r){if("number"==typeof r)return isFinite(r)?""+r:"null";if("object"!==e(r))return JSON.stringify(r);var n,s;if(Array.isArray(r)){for(s="[",n=0;n<r.length;n++)n&&(s+=","),s+=t(r[n])||"null";return s+"]"}if(null===r)return"null";if(-1!==a.indexOf(r)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var u=a.push(r)-1,c=Object.keys(r).sort(o&&o(r));for(s="",n=0;n<c.length;n++){var l=c[n],f=t(r[l]);f&&(s&&(s+=","),s+=JSON.stringify(l)+":"+f)}return a.splice(u,1),"{"+s+"}"}}(t)},D=Object.prototype,C=D.toString,Q=D.hasOwnProperty,P=new Map;function F(e,t){try{return function e(t,r){if(t===r)return!0;var n=C.call(t);var i=C.call(r);if(n!==i)return!1;switch(n){case"[object Array]":if(t.length!==r.length)return!1;case"[object Object]":if(M(t,r))return!0;var o=Object.keys(t),a=Object.keys(r),s=o.length;if(s!==a.length)return!1;for(var u=0;u<s;++u)if(!Q.call(r,o[u]))return!1;for(var u=0;u<s;++u){var c=o[u];if(!e(t[c],r[c]))return!1}return!0;case"[object Error]":return t.name===r.name&&t.message===r.message;case"[object Number]":if(t!=t)return r!=r;case"[object Boolean]":case"[object Date]":return+t==+r;case"[object RegExp]":case"[object String]":return t==""+r;case"[object Map]":case"[object Set]":if(t.size!==r.size)return!1;if(M(t,r))return!0;for(var l=t.entries(),f="[object Map]"===n;;){var h=l.next();if(h.done)break;var p=h.value,d=p[0],v=p[1];if(!r.has(d))return!1;if(f&&!e(v,r.get(d)))return!1}return!0}return!1}(e,t)}finally{P.clear()}}function M(e,t){var r=P.get(e);if(r){if(r.has(t))return!0}else P.set(e,r=new Set);return r.add(t),!1}function q(e,t,r,n){if(function(e){return"IntValue"===e.kind}(r)||function(e){return"FloatValue"===e.kind}(r))e[t.value]=Number(r.value);else if(function(e){return"BooleanValue"===e.kind}(r)||function(e){return"StringValue"===e.kind}(r))e[t.value]=r.value;else if(function(e){return"ObjectValue"===e.kind}(r)){var i={};r.fields.map(function(e){return q(i,e.name,e.value,n)}),e[t.value]=i}else if(function(e){return"Variable"===e.kind}(r)){var o=(n||{})[r.name.value];e[t.value]=o}else if(function(e){return"ListValue"===e.kind}(r))e[t.value]=r.values.map(function(e){var r={};return q(r,t,e,n),r[t.value]});else if(function(e){return"EnumValue"===e.kind}(r))e[t.value]=r.value;else{if(!function(e){return"NullValue"===e.kind}(r))throw new _('The inline argument "'+t.value+'" of kind "'+r.kind+'"is not supported. Use variables instead of inline arguments to overcome this limitation.');e[t.value]=null}}var L=["connection","include","skip","client","rest","export"];function j(e,t,r){if(r&&r.connection&&r.connection.key){if(r.connection.filter&&r.connection.filter.length>0){var n=r.connection.filter?r.connection.filter:[];n.sort();var i=t,o={};return n.forEach(function(e){o[e]=i[e]}),r.connection.key+"("+JSON.stringify(o)+")"}return r.connection.key}var a=e;if(t){var s=A(t);a+="("+s+")"}return r&&Object.keys(r).forEach(function(e){-1===L.indexOf(e)&&(r[e]&&Object.keys(r[e]).length?a+="@"+e+"("+JSON.stringify(r[e])+")":a+="@"+e)}),a}function V(e,t){if(e.arguments&&e.arguments.length){var r={};return e.arguments.forEach(function(e){var n=e.name,i=e.value;return q(r,n,i,t)}),r}return null}function B(e){return e.alias?e.alias.value:e.name.value}function U(e){return"Field"===e.kind}function G(e){return"InlineFragment"===e.kind}function K(e){return e&&"id"===e.type&&"boolean"==typeof e.generated}function J(e,t){return void 0===t&&(t=!1),E({type:"id",generated:t},"string"==typeof e?{id:e,typename:void 0}:e)}function Y(e,t){if(e.directives&&e.directives.length){var r={};return e.directives.forEach(function(e){r[e.name.value]=V(e,t)}),r}return null}function z(e,t){return void 0===t&&(t={}),(r=e.directives,r?r.filter(X).map(function(e){var t=e.arguments,r=e.name.value;x(t&&1===t.length,"Incorrect number of arguments for the @"+r+" directive.");var n=t[0];x(n.name&&"if"===n.name.value,"Invalid argument for the @"+r+" directive.");var i=n.value;return x(i&&("Variable"===i.kind||"BooleanValue"===i.kind),"Argument for the @"+r+" directive must be a variable or a boolean value."),{directive:e,ifArgument:n}}):[]).every(function(e){var r=e.directive,n=e.ifArgument,i=!1;return"Variable"===n.value.kind?x(void 0!==(i=t[n.value.name.value]),"Invalid variable referenced in @"+r.name.value+" directive."):i=n.value.value,"skip"===r.name.value?!i:i});var r}function W(e,t){return function(e){var t=[];return y(e,{Directive:function(e){t.push(e.name.value)}}),t}(t).some(function(t){return e.indexOf(t)>-1})}function H(e){return e&&W(["client"],e)&&W(["export"],e)}function X(e){var t=e.name.value;return"skip"===t||"include"===t}function $(e,t){var r=t,n=[];return e.definitions.forEach(function(e){if("OperationDefinition"===e.kind)throw new _("Found a "+e.operation+" operation"+(e.name?" named '"+e.name.value+"'":"")+". No operations are allowed when using a fragment as a query. Only fragments are allowed.");"FragmentDefinition"===e.kind&&n.push(e)}),void 0===r&&(x(1===n.length,"Found "+n.length+" fragments. `fragmentName` must be provided when there is not exactly 1 fragment."),r=n[0].name.value),E({},e,{definitions:[{kind:"OperationDefinition",operation:"query",selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:r}}]}}].concat(e.definitions)})}function Z(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.forEach(function(t){null!=t&&Object.keys(t).forEach(function(r){e[r]=t[r]})}),e}function ee(e){x(e&&"Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql');var t=e.definitions.filter(function(e){return"FragmentDefinition"!==e.kind}).map(function(e){if("OperationDefinition"!==e.kind)throw new _('Schema type definitions not allowed in queries. Found: "'+e.kind+'"');return e});return x(t.length<=1,"Ambiguous GraphQL document: contains "+t.length+" operations"),e}function te(e){return ee(e),e.definitions.filter(function(e){return"OperationDefinition"===e.kind})[0]}function re(e){return e.definitions.filter(function(e){return"OperationDefinition"===e.kind&&e.name}).map(function(e){return e.name.value})[0]||null}function ne(e){return e.definitions.filter(function(e){return"FragmentDefinition"===e.kind})}function ie(e){var t;ee(e);for(var r=0,n=e.definitions;r<n.length;r++){var i=n[r];if("OperationDefinition"===i.kind){var o=i.operation;if("query"===o||"mutation"===o||"subscription"===o)return i}"FragmentDefinition"!==i.kind||t||(t=i)}if(t)return t;throw new _("Expected a parsed GraphQL query with a query, mutation, subscription, or a fragment.")}function oe(e){void 0===e&&(e=[]);var t={};return e.forEach(function(e){t[e.name.value]=e}),t}function ae(e){if(e&&e.variableDefinitions&&e.variableDefinitions.length){var t=e.variableDefinitions.filter(function(e){return e.defaultValue}).map(function(e){var t=e.variable,r=e.defaultValue,n={};return q(n,t.name,r),n});return Z.apply(void 0,[{}].concat(t))}return{}}function se(e,t,r){var n=0;return e.forEach(function(r,i){t.call(this,r,i,e)&&(e[n++]=r)},r),e.length=n,e}var ue={kind:"Field",name:{kind:"Name",value:"__typename"}};function ce(e){return function e(t,r){return t.selectionSet.selections.every(function(t){return"FragmentSpread"===t.kind&&e(r[t.name.value],r)})}(te(e)||function(e){x("Document"===e.kind,'Expecting a parsed GraphQL document. Perhaps you need to wrap the query string in a "gql" tag? http://docs.apollostack.com/apollo-client/core.html#gql'),x(e.definitions.length<=1,"Fragment must have exactly one definition.");var t=e.definitions[0];return x("FragmentDefinition"===t.kind,"Must be a fragment definition."),t}(e),oe(ne(e)))?null:e}function le(e){return function(t){return e.some(function(e){return e.name&&e.name===t.name.value||e.test&&e.test(t)})}}function fe(e,t){var r=Object.create(null),n=[],i=Object.create(null),o=[],a=ce(y(t,{Variable:{enter:function(e,t,n){"VariableDefinition"!==n.kind&&(r[e.name.value]=!0)}},Field:{enter:function(t){if(e&&t.directives&&(e.some(function(e){return e.remove})&&t.directives&&t.directives.some(le(e))))return t.arguments&&t.arguments.forEach(function(e){"Variable"===e.value.kind&&n.push({name:e.value.name.value})}),t.selectionSet&&function e(t){var r=[];t.selections.forEach(function(t){(U(t)||G(t))&&t.selectionSet?e(t.selectionSet).forEach(function(e){return r.push(e)}):"FragmentSpread"===t.kind&&r.push(t)});return r}(t.selectionSet).forEach(function(e){o.push({name:e.name.value})}),null}},FragmentSpread:{enter:function(e){i[e.name.value]=!0}},Directive:{enter:function(t){if(le(e)(t))return null}}}));return a&&se(n,function(e){return!r[e.name]}).length&&(a=function(e,t){var r=function(e){return function(t){return e.some(function(e){return t.value&&"Variable"===t.value.kind&&t.value.name&&(e.name===t.value.name.value||e.test&&e.test(t))})}}(e);return ce(y(t,{OperationDefinition:{enter:function(t){return E({},t,{variableDefinitions:t.variableDefinitions.filter(function(t){return!e.some(function(e){return e.name===t.variable.name.value})})})}},Field:{enter:function(t){var n=e.some(function(e){return e.remove});if(n){var i=0;if(t.arguments.forEach(function(e){r(e)&&(i+=1)}),1===i)return null}}},Argument:{enter:function(e){if(r(e))return null}}}))}(n,a)),a&&se(o,function(e){return!i[e.name]}).length&&(a=function(e,t){function r(t){if(e.some(function(e){return e.name===t.name.value}))return null}return ce(y(t,{FragmentSpread:{enter:r},FragmentDefinition:{enter:r}}))}(o,a)),a}var he={test:function(e){var t="connection"===e.name.value;return t&&(e.arguments&&e.arguments.some(function(e){return"key"===e.name.value})||x.warn("Removing an @connection directive even though it does not have a key. You may want to use the key parameter to specify a store key.")),t}};function pe(e){return"query"===ie(e).operation?e:y(e,{OperationDefinition:{enter:function(e){return E({},e,{operation:"query"})}}})}var de="function"==typeof WeakMap&&!("object"===("undefined"==typeof navigator?"undefined":e(navigator))&&"ReactNative"===navigator.product),ve=Object.prototype.toString;function ye(e){return function e(t,r){switch(ve.call(t)){case"[object Array]":if(r.has(t))return r.get(t);var n=t.slice(0);return r.set(t,n),n.forEach(function(t,i){n[i]=e(t,r)}),n;case"[object Object]":if(r.has(t))return r.get(t);var i=Object.create(Object.getPrototypeOf(t));return r.set(t,i),Object.keys(t).forEach(function(n){i[n]=e(t[n],r)}),i;default:return t}}(e,new Map)}function me(e){return"development"===e}function be(){return!0===me("test")}function ge(e){try{return e()}catch(e){console.error&&console.error(e)}}function we(e){return e.errors&&e.errors.length}function Ee(t){if((!0===me("development")||be())&&!("function"==typeof Symbol&&"string"==typeof Symbol("")))return function t(r){return Object.freeze(r),Object.getOwnPropertyNames(r).forEach(function(n){null===r[n]||"object"!==e(r[n])&&"function"!=typeof r[n]||Object.isFrozen(r[n])||t(r[n])}),r}(t);return t}var Oe,Te=Object.prototype.hasOwnProperty;function Se(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ke(e)}function ke(e){var t=e[0]||{},r=e.length;if(r>1){var n=[];t=xe(t,n);for(var i=1;i<r;++i)t=_e(t,e[i],n)}return t}function Ie(t){return null!==t&&"object"===e(t)}function _e(e,t,r){return Ie(t)&&Ie(e)?(Object.isExtensible&&!Object.isExtensible(e)&&(e=xe(e,r)),Object.keys(t).forEach(function(n){var i=t[n];if(Te.call(e,n)){var o=e[n];i!==o&&(e[n]=_e(xe(o,r),i,r))}else e[n]=i}),e):t}function xe(t,r){return null!==t&&"object"===e(t)&&r.indexOf(t)<0&&(t=Array.isArray(t)?t.slice(0):E({__proto__:Object.getPrototypeOf(t)},t),r.push(t)),t}var Ne=function(){};function Re(e,t){return r=e,Oe||(Oe="function"==typeof Symbol&&Symbol.observable||"@@observable"),r&&r[Oe]&&r[Oe]()===r?s(void 0,function(r){var n=function(e,t){var r,n,i=void 0!==t;return e(i?t:new Promise(function(e,t){r=e,n=t})),{fulfill:function(t){if(i)return e(Promise.resolve(t));i=!0,r(t)},reject:function(t){if(i)return e(Promise.reject(t));i=!0,n(t)}}}(r,t),i=n.fulfill,o=n.reject,a=e.subscribe({next:function(e){i(e)},error:function(e){o(e)}});return function(){return a.unsubscribe()}}):s(e,Ne);var r}var Ae="undefined"!=typeof Symbol?Symbol("client"):"@@client";function De(){return r(Ae)}function Ce(e){t(Ae,e)}var Qe="undefined"!=typeof WeakSet?new WeakSet:new Set;function Pe(e,t){var r,n=!1;if(Qe.has(e))try{r={data:r=e.readQuery(t)||void 0}}catch(e){}var i=e.watchQuery(t),o=Re(i,r).subscribe;return{subscribe:s(r,function(e){n=!0;var t=void 0!==r,i=!1,a=!1;return o(function(r){t&&i&&!a?a=!0:(i||(i=!0),e(r))})}).subscribe,refetch:function(e){return!n&&F(e,i.variables)?i.result():i.refetch(e)},result:function(){return i.result()},fetchMore:function(e){return i.fetchMore(e)},setOptions:function(e){return i.setOptions(e)},updateQuery:function(e){return i.updateQuery(e)},startPolling:function(e){return i.startPolling(e)},stopPolling:function(){return i.stopPolling()},subscribeToMore:function(e){return i.subscribeToMore(e)}}}function Fe(e,t){return Re(e.subscribe(t))}var Me=n(function(t,r){function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}Object.defineProperty(r,"__esModule",{value:!0}),r.Observable=void 0;var a=function(){return"function"==typeof Symbol},s=function(e){return a()&&Boolean(Symbol[e])},u=function(e){return s(e)?Symbol[e]:"@@"+e};a()&&!s("observable")&&(Symbol.observable=Symbol("observable"));var c=u("iterator"),l=u("observable"),f=u("species");function h(e,t){var r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function p(e){var t=e.constructor;return void 0!==t&&null===(t=t[f])&&(t=void 0),void 0!==t?t:T}function d(e){return e instanceof T}function v(e){v.log?v.log(e):setTimeout(function(){throw e})}function y(e){Promise.resolve().then(function(){try{e()}catch(e){v(e)}})}function m(e){var t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{var r=h(t,"unsubscribe");r&&r.call(t)}}catch(e){v(e)}}function b(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function g(e,t,r){e._state="running";var n=e._observer;try{var i=h(n,t);switch(t){case"next":i&&i.call(n,r);break;case"error":if(b(e),!i)throw r;i.call(n,r);break;case"complete":b(e),i&&i.call(n)}}catch(e){v(e)}"closed"===e._state?m(e):"running"===e._state&&(e._state="ready")}function w(e,t,r){if("closed"!==e._state){if("buffering"!==e._state)return"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void y(function(){return function(e){var t=e._queue;if(t){e._queue=void 0,e._state="ready";for(var r=0;r<t.length&&(g(e,t[r].type,t[r].value),"closed"!==e._state);++r);}}(e)})):void g(e,t,r);e._queue.push({type:t,value:r})}}var E=function(){function e(t,r){n(this,e),this._cleanup=void 0,this._observer=t,this._queue=void 0,this._state="initializing";var i=new O(this);try{this._cleanup=r.call(void 0,i)}catch(e){i.error(e)}"initializing"===this._state&&(this._state="ready")}return o(e,[{key:"unsubscribe",value:function(){"closed"!==this._state&&(b(this),m(this))}},{key:"closed",get:function(){return"closed"===this._state}}]),e}(),O=function(){function e(t){n(this,e),this._subscription=t}return o(e,[{key:"next",value:function(e){w(this._subscription,"next",e)}},{key:"error",value:function(e){w(this._subscription,"error",e)}},{key:"complete",value:function(){w(this._subscription,"complete")}},{key:"closed",get:function(){return"closed"===this._subscription._state}}]),e}(),T=function(){function t(e){if(n(this,t),!(this instanceof t))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}return o(t,[{key:"subscribe",value:function(t){return"object"===e(t)&&null!==t||(t={next:t,error:arguments[1],complete:arguments[2]}),new E(t,this._subscriber)}},{key:"forEach",value:function(e){var t=this;return new Promise(function(r,n){if("function"==typeof e)var i=t.subscribe({next:function(t){try{e(t,o)}catch(e){n(e),i.unsubscribe()}},error:n,complete:r});else n(new TypeError(e+" is not a function"));function o(){i.unsubscribe(),r()}})}},{key:"map",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(function(r){return t.subscribe({next:function(t){try{t=e(t)}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})})}},{key:"filter",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(function(r){return t.subscribe({next:function(t){try{if(!e(t))return}catch(e){return r.error(e)}r.next(t)},error:function(e){r.error(e)},complete:function(){r.complete()}})})}},{key:"reduce",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=p(this),n=arguments.length>1,i=!1,o=arguments[1];return new r(function(r){return t.subscribe({next:function(t){var a=!i;if(i=!0,!a||n)try{o=e(o,t)}catch(e){return r.error(e)}else o=t},error:function(e){r.error(e)},complete:function(){if(!i&&!n)return r.error(new TypeError("Cannot reduce an empty sequence"));r.next(o),r.complete()}})})}},{key:"concat",value:function(){for(var e=this,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=p(this);return new i(function(t){var n,o=0;return function e(a){n=a.subscribe({next:function(e){t.next(e)},error:function(e){t.error(e)},complete:function(){o===r.length?(n=void 0,t.complete()):e(i.from(r[o++]))}})}(e),function(){n&&(n.unsubscribe(),n=void 0)}})}},{key:"flatMap",value:function(e){var t=this;if("function"!=typeof e)throw new TypeError(e+" is not a function");var r=p(this);return new r(function(n){var i=[],o=t.subscribe({next:function(t){if(e)try{t=e(t)}catch(e){return n.error(e)}var o=r.from(t).subscribe({next:function(e){n.next(e)},error:function(e){n.error(e)},complete:function(){var e=i.indexOf(o);e>=0&&i.splice(e,1),a()}});i.push(o)},error:function(e){n.error(e)},complete:function(){a()}});function a(){o.closed&&0===i.length&&n.complete()}return function(){i.forEach(function(e){return e.unsubscribe()}),o.unsubscribe()}})}},{key:l,value:function(){return this}}],[{key:"from",value:function(e){var r="function"==typeof this?this:t;if(null==e)throw new TypeError(e+" is not an object");var n=h(e,l);if(n){var i=n.call(e);if(Object(i)!==i)throw new TypeError(i+" is not an object");return d(i)&&i.constructor===r?i:new r(function(e){return i.subscribe(e)})}if(s("iterator")&&(n=h(e,c)))return new r(function(t){y(function(){if(!t.closed){var r=!0,i=!1,o=void 0;try{for(var a,s=n.call(e)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;if(t.next(u),t.closed)return}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}t.complete()}})});if(Array.isArray(e))return new r(function(t){y(function(){if(!t.closed){for(var r=0;r<e.length;++r)if(t.next(e[r]),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}},{key:"of",value:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return new("function"==typeof this?this:t)(function(e){y(function(){if(!e.closed){for(var t=0;t<r.length;++t)if(e.next(r[t]),e.closed)return;e.complete()}})})}},{key:f,get:function(){return this}}]),t}();r.Observable=T,a()&&Object.defineProperty(T,Symbol("extensions"),{value:{symbol:l,hostReportError:v},configurable:!0})});i(Me);Me.Observable;var qe=Me.Observable;var Le=function(e){function t(t,r){var n=e.call(this,t)||this;return n.link=r,n}return w(t,e),t}(Error);function je(e){return e.request.length<=1}function Ve(e){return new qe(function(t){t.error(e)})}function Be(e,t){var r=E({},e);return Object.defineProperty(t,"setContext",{enumerable:!1,value:function(e){r=E({},r,"function"==typeof e?e(r):e)}}),Object.defineProperty(t,"getContext",{enumerable:!1,value:function(){return E({},r)}}),Object.defineProperty(t,"toKey",{enumerable:!1,value:function(){return function(e){var t=e.query,r=e.variables,n=e.operationName;return JSON.stringify([n,t,r])}(t)}}),t}function Ue(e,t){return t?t(e):qe.of()}function Ge(e){return"function"==typeof e?new We(e):e}function Ke(){return new We(function(){return qe.of()})}function Je(e){return 0===e.length?Ke():e.map(Ge).reduce(function(e,t){return e.concat(t)})}function Ye(e,t,r){var n=Ge(t),i=Ge(r||new We(Ue));return je(n)&&je(i)?new We(function(t){return e(t)?n.request(t)||qe.of():i.request(t)||qe.of()}):new We(function(t,r){return e(t)?n.request(t,r)||qe.of():i.request(t,r)||qe.of()})}var ze=function(e,t){var r=Ge(e);if(je(r))return x.warn(new Le("You are calling concat on a terminating link, which will have no effect",r)),r;var n=Ge(t);return je(n)?new We(function(e){return r.request(e,function(e){return n.request(e)||qe.of()})||qe.of()}):new We(function(e,t){return r.request(e,function(e){return n.request(e,t)||qe.of()})||qe.of()})},We=function(){function e(e){e&&(this.request=e)}return e.prototype.split=function(t,r,n){return this.concat(Ye(t,r,n||new e(Ue)))},e.prototype.concat=function(e){return ze(this,e)},e.prototype.request=function(e,t){throw new _("request is not implemented")},e.empty=Ke,e.from=Je,e.split=Ye,e.execute=He,e}();function He(e,t){return e.request(Be(t.context,function(e){var t={variables:e.variables||{},extensions:e.extensions||{},operationName:e.operationName,query:e.query};return t.operationName||(t.operationName="string"!=typeof t.query?re(t.query):""),t}(function(e){for(var t=["query","operationName","variables","extensions","context"],r=0,n=Object.keys(e);r<n.length;r++){var i=n[r];if(t.indexOf(i)<0)throw new _("illegal argument: "+i)}return e}(t))))||qe.of()}var Xe,$e=function(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}("undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")());function Ze(e){return e<7}!function(e){e[e.loading=1]="loading",e[e.setVariables=2]="setVariables",e[e.fetchMore=3]="fetchMore",e[e.refetch=4]="refetch",e[e.poll=6]="poll",e[e.ready=7]="ready",e[e.error=8]="error"}(Xe||(Xe={}));var et=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return w(t,e),t.prototype[$e]=function(){return this},t.prototype["@@observable"]=function(){return this},t}(qe);function tt(e){return Array.isArray(e)&&e.length>0}var rt,nt=function(e){var t="";return tt(e.graphQLErrors)&&e.graphQLErrors.forEach(function(e){var r=e?e.message:"Error message not found.";t+="GraphQL error: "+r+"\n"}),e.networkError&&(t+="Network error: "+e.networkError.message+"\n"),t=t.replace(/\n$/,"")},it=function(e){function t(r){var n=r.graphQLErrors,i=r.networkError,o=r.errorMessage,a=r.extraInfo,s=e.call(this,o)||this;return s.graphQLErrors=n||[],s.networkError=i||null,s.message=o||nt(s),s.extraInfo=a,s.__proto__=t.prototype,s}return w(t,e),t}(Error);!function(e){e[e.normal=1]="normal",e[e.refetch=2]="refetch",e[e.poll=3]="poll"}(rt||(rt={}));var ot=function(e){function t(t){var r=t.queryManager,n=t.options,i=t.shouldSubscribe,o=void 0===i||i,a=e.call(this,function(e){return a.onSubscribe(e)})||this;a.observers=new Set,a.subscriptions=new Set,a.isTornDown=!1,a.options=n,a.variables=n.variables||{},a.queryId=r.generateQueryId(),a.shouldSubscribe=o;var s=te(n.query);return a.queryName=s&&s.name&&s.name.value,a.queryManager=r,a}return w(t,e),t.prototype.result=function(){var e=this;return new Promise(function(t,r){var n={next:function(r){t(r),e.observers.delete(n),e.observers.size||e.queryManager.removeQuery(e.queryId),setTimeout(function(){i.unsubscribe()},0)},error:r},i=e.subscribe(n)})},t.prototype.currentResult=function(){var e=this.getCurrentResult();return void 0===e.data&&(e.data={}),e},t.prototype.getCurrentResult=function(){if(this.isTornDown){var e=this.lastResult;return{data:!this.lastError&&e&&e.data||void 0,error:this.lastError,loading:!1,networkStatus:Xe.error}}var t,r,n,i=this.queryManager.getCurrentQueryResult(this),o=i.data,a=i.partial,s=this.queryManager.queryStore.get(this.queryId),u=this.options.fetchPolicy,c="network-only"===u||"no-cache"===u;if(s){var l=s.networkStatus;if(r=s,void 0===(n=this.options.errorPolicy)&&(n="none"),r&&(r.networkError||"none"===n&&tt(r.graphQLErrors)))return{data:void 0,loading:!1,networkStatus:l,error:new it({graphQLErrors:s.graphQLErrors,networkError:s.networkError})};s.variables&&(this.options.variables=E({},this.options.variables,s.variables),this.variables=this.options.variables),t={data:o,loading:Ze(l),networkStatus:l},s.graphQLErrors&&"all"===this.options.errorPolicy&&(t.errors=s.graphQLErrors)}else{var f=c||a&&"cache-only"!==u;t={data:o,loading:f,networkStatus:f?Xe.loading:Xe.ready}}return a||this.updateLastResult(E({},t,{stale:!1})),E({},t,{partial:a})},t.prototype.isDifferentFromLastResult=function(e){var t=this.lastResultSnapshot;return!(t&&e&&t.networkStatus===e.networkStatus&&t.stale===e.stale&&F(t.data,e.data))},t.prototype.getLastResult=function(){return this.lastResult},t.prototype.getLastError=function(){return this.lastError},t.prototype.resetLastResults=function(){delete this.lastResult,delete this.lastResultSnapshot,delete this.lastError,this.isTornDown=!1},t.prototype.resetQueryStoreErrors=function(){var e=this.queryManager.queryStore.get(this.queryId);e&&(e.networkError=null,e.graphQLErrors=[])},t.prototype.refetch=function(e){var t=this.options.fetchPolicy;return"cache-only"===t?Promise.reject(new _("cache-only fetchPolicy option should not be used together with query refetch.")):("no-cache"!==t&&"cache-and-network"!==t&&(t="network-only"),F(this.variables,e)||(this.variables=E({},this.variables,e)),F(this.options.variables,this.variables)||(this.options.variables=E({},this.options.variables,this.variables)),this.queryManager.fetchQuery(this.queryId,E({},this.options,{fetchPolicy:t}),rt.refetch))},t.prototype.fetchMore=function(e){var t=this;x(e.updateQuery,"updateQuery option is required. This function defines how to update the query data with the new results.");var r=E({},e.query?e:E({},this.options,e,{variables:E({},this.variables,e.variables)}),{fetchPolicy:"network-only"}),n=this.queryManager.generateQueryId();return this.queryManager.fetchQuery(n,r,rt.normal,this.queryId).then(function(i){return t.updateQuery(function(t){return e.updateQuery(t,{fetchMoreResult:i.data,variables:r.variables})}),t.queryManager.stopQuery(n),i},function(e){throw t.queryManager.stopQuery(n),e})},t.prototype.subscribeToMore=function(e){var t=this,r=this.queryManager.startGraphQLSubscription({query:e.document,variables:e.variables}).subscribe({next:function(r){var n=e.updateQuery;n&&t.updateQuery(function(e,t){var i=t.variables;return n(e,{subscriptionData:r,variables:i})})},error:function(t){e.onError?e.onError(t):x.error("Unhandled GraphQL subscription error",t)}});return this.subscriptions.add(r),function(){t.subscriptions.delete(r)&&r.unsubscribe()}},t.prototype.setOptions=function(e){var t=this.options.fetchPolicy;this.options=E({},this.options,e),e.pollInterval?this.startPolling(e.pollInterval):0===e.pollInterval&&this.stopPolling();var r=e.fetchPolicy;return this.setVariables(this.options.variables,t!==r&&("cache-only"===t||"standby"===t||"network-only"===r),e.fetchResults)},t.prototype.setVariables=function(e,t,r){return void 0===t&&(t=!1),void 0===r&&(r=!0),this.isTornDown=!1,e=e||this.variables,!t&&F(e,this.variables)?this.observers.size&&r?this.result():Promise.resolve():(this.variables=this.options.variables=e,this.observers.size?this.queryManager.fetchQuery(this.queryId,this.options):Promise.resolve())},t.prototype.updateQuery=function(e){var t=this.queryManager,r=t.getQueryWithPreviousResult(this.queryId),n=r.previousResult,i=r.variables,o=r.document,a=ge(function(){return e(n,{variables:i})});a&&(t.dataStore.markUpdateQueryResult(o,i,a),t.broadcastQueries())},t.prototype.stopPolling=function(){this.queryManager.stopPollingQuery(this.queryId),this.options.pollInterval=void 0},t.prototype.startPolling=function(e){ut(this),this.options.pollInterval=e,this.queryManager.startPollingQuery(this.options,this.queryId)},t.prototype.updateLastResult=function(e){var t=this.lastResult;return this.lastResult=e,this.lastResultSnapshot=this.queryManager.assumeImmutableResults?e:ye(e),t},t.prototype.onSubscribe=function(e){var t=this;try{var r=e._subscription._observer;r&&!r.error&&(r.error=at)}catch(e){}var n=!this.observers.size;return this.observers.add(e),e.next&&this.lastResult&&e.next(this.lastResult),e.error&&this.lastError&&e.error(this.lastError),n&&this.setUpQuery(),function(){t.observers.delete(e)&&!t.observers.size&&t.tearDownQuery()}},t.prototype.setUpQuery=function(){var e=this,t=this.queryManager,r=this.queryId;this.shouldSubscribe&&t.addObservableQuery(r,this),this.options.pollInterval&&(ut(this),t.startPollingQuery(this.options,r));var n=function(t){e.updateLastResult(E({},e.lastResult,{errors:t.graphQLErrors,networkStatus:Xe.error,loading:!1})),st(e.observers,"error",e.lastError=t)};t.observeQuery(r,this.options,{next:function(r){if(e.lastError||e.isDifferentFromLastResult(r)){var n=e.updateLastResult(r),i=e.options,o=i.query,a=i.variables,s=i.fetchPolicy;t.transform(o).hasClientExports?t.getLocalState().addExportedVariables(o,a).then(function(i){var a=e.variables;e.variables=e.options.variables=i,!r.loading&&n&&"cache-only"!==s&&t.transform(o).serverQuery&&!F(a,i)?e.refetch():st(e.observers,"next",r)}):st(e.observers,"next",r)}},error:n}).catch(n)},t.prototype.tearDownQuery=function(){var e=this.queryManager;this.isTornDown=!0,e.stopPollingQuery(this.queryId),this.subscriptions.forEach(function(e){return e.unsubscribe()}),this.subscriptions.clear(),e.removeObservableQuery(this.queryId),e.stopQuery(this.queryId),this.observers.clear()},t}(et);function at(e){x.error("Unhandled error",e.message,e.stack)}function st(e,t,r){var n=[];e.forEach(function(e){return e[t]&&n.push(e)}),n.forEach(function(e){return e[t](r)})}function ut(e){var t=e.options.fetchPolicy;x("cache-first"!==t&&"cache-only"!==t,"Queries that specify the cache-first and cache-only fetchPolicies cannot also be polling queries.")}var ct=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initMutation=function(e,t,r){this.store[e]={mutation:t,variables:r||{},loading:!0,error:null}},e.prototype.markMutationError=function(e,t){var r=this.store[e];r&&(r.loading=!1,r.error=t)},e.prototype.markMutationResult=function(e){var t=this.store[e];t&&(t.loading=!1,t.error=null)},e.prototype.reset=function(){this.store={}},e}(),lt=function(){function e(){this.store={}}return e.prototype.getStore=function(){return this.store},e.prototype.get=function(e){return this.store[e]},e.prototype.initQuery=function(e){var t=this.store[e.queryId];x(!t||t.document===e.document||F(t.document,e.document),"Internal Error: may not update existing query string in store");var r,n=!1,i=null;e.storePreviousVariables&&t&&t.networkStatus!==Xe.loading&&(F(t.variables,e.variables)||(n=!0,i=t.variables)),r=n?Xe.setVariables:e.isPoll?Xe.poll:e.isRefetch?Xe.refetch:Xe.loading;var o=[];t&&t.graphQLErrors&&(o=t.graphQLErrors),this.store[e.queryId]={document:e.document,variables:e.variables,previousVariables:i,networkError:null,graphQLErrors:o,networkStatus:r,metadata:e.metadata},"string"==typeof e.fetchMoreForQueryId&&this.store[e.fetchMoreForQueryId]&&(this.store[e.fetchMoreForQueryId].networkStatus=Xe.fetchMore)},e.prototype.markQueryResult=function(e,t,r){this.store&&this.store[e]&&(this.store[e].networkError=null,this.store[e].graphQLErrors=tt(t.errors)?t.errors:[],this.store[e].previousVariables=null,this.store[e].networkStatus=Xe.ready,"string"==typeof r&&this.store[r]&&(this.store[r].networkStatus=Xe.ready))},e.prototype.markQueryError=function(e,t,r){this.store&&this.store[e]&&(this.store[e].networkError=t,this.store[e].networkStatus=Xe.error,"string"==typeof r&&this.markQueryResultClient(r,!0))},e.prototype.markQueryResultClient=function(e,t){var r=this.store&&this.store[e];r&&(r.networkError=null,r.previousVariables=null,t&&(r.networkStatus=Xe.ready))},e.prototype.stopQuery=function(e){delete this.store[e]},e.prototype.reset=function(e){var t=this;Object.keys(this.store).forEach(function(r){e.indexOf(r)<0?t.stopQuery(r):t.store[r].networkStatus=Xe.loading})},e}();var ft=function(){function e(e){var t=e.cache,r=e.client,n=e.resolvers,i=e.fragmentMatcher;this.cache=t,r&&(this.client=r),n&&this.addResolvers(n),i&&this.setFragmentMatcher(i)}return e.prototype.addResolvers=function(e){var t=this;this.resolvers=this.resolvers||{},Array.isArray(e)?e.forEach(function(e){t.resolvers=Se(t.resolvers,e)}):this.resolvers=Se(this.resolvers,e)},e.prototype.setResolvers=function(e){this.resolvers={},this.addResolvers(e)},e.prototype.getResolvers=function(){return this.resolvers||{}},e.prototype.runResolvers=function(e){var t=e.document,r=e.remoteResult,n=e.context,i=e.variables,o=e.onlyRunForcedResolvers,a=void 0!==o&&o;return O(this,void 0,void 0,function(){return T(this,function(e){return t?[2,this.resolveDocument(t,r.data,n,i,this.fragmentMatcher,a).then(function(e){return E({},r,{data:e.result})})]:[2,r]})})},e.prototype.setFragmentMatcher=function(e){this.fragmentMatcher=e},e.prototype.getFragmentMatcher=function(){return this.fragmentMatcher},e.prototype.clientQuery=function(e){if(W(["client"],e)){if(this.resolvers)return e;x.warn("Found @client directives in a query but no ApolloClient resolvers were specified. This means ApolloClient local resolver handling has been disabled, and @client directives will be passed through to your link chain.")}return null},e.prototype.serverQuery=function(e){return this.resolvers?function(e){ee(e);var t=fe([{test:function(e){return"client"===e.name.value},remove:!0}],e);return t&&(t=y(t,{FragmentDefinition:{enter:function(e){if(e.selectionSet&&e.selectionSet.selections.every(function(e){return U(e)&&"__typename"===e.name.value}))return null}}})),t}(e):e},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.cache;return E({},e,{cache:t,getCacheKey:function(e){if(t.config)return t.config.dataIdFromObject(e);x(!1,"To use context.getCacheKey, you need to use a cache that has a configurable dataIdFromObject, like apollo-cache-inmemory.")}})},e.prototype.addExportedVariables=function(e,t,r){return void 0===t&&(t={}),void 0===r&&(r={}),O(this,void 0,void 0,function(){return T(this,function(n){return e?[2,this.resolveDocument(e,this.buildRootValueFromCache(e,t)||{},this.prepareContext(r),t).then(function(e){return E({},t,e.exportedVariables)})]:[2,E({},t)]})})},e.prototype.shouldForceResolvers=function(e){var t=!1;return y(e,{Directive:{enter:function(e){if("client"===e.name.value&&e.arguments&&(t=e.arguments.some(function(e){return"always"===e.name.value&&"BooleanValue"===e.value.kind&&!0===e.value.value})))return v}}}),t},e.prototype.buildRootValueFromCache=function(e,t){return this.cache.diff({query:pe(e),variables:t,returnPartialData:!0,optimistic:!1}).result},e.prototype.resolveDocument=function(e,t,r,n,i,o){return void 0===r&&(r={}),void 0===n&&(n={}),void 0===i&&(i=function(){return!0}),void 0===o&&(o=!1),O(this,void 0,void 0,function(){var a,s,u,c,l,f,h,p,d;return T(this,function(v){var y;return a=ie(e),s=ne(e),u=oe(s),c=a.operation,l=c?(y=c).charAt(0).toUpperCase()+y.slice(1):"Query",h=(f=this).cache,p=f.client,d={fragmentMap:u,context:E({},r,{cache:h,client:p}),variables:n,fragmentMatcher:i,defaultOperationType:l,exportedVariables:{},onlyRunForcedResolvers:o},[2,this.resolveSelectionSet(a.selectionSet,t,d).then(function(e){return{result:e,exportedVariables:d.exportedVariables}})]})})},e.prototype.resolveSelectionSet=function(e,t,r){return O(this,void 0,void 0,function(){var n,i,o,a,s,u=this;return T(this,function(c){return n=r.fragmentMap,i=r.context,o=r.variables,a=[t],s=function(e){return O(u,void 0,void 0,function(){var s,u;return T(this,function(c){return z(e,o)?U(e)?[2,this.resolveField(e,t,r).then(function(t){var r;void 0!==t&&a.push(((r={})[B(e)]=t,r))})]:(G(e)?s=e:x(s=n[e.name.value],"No fragment named "+e.name.value),s&&s.typeCondition&&(u=s.typeCondition.name.value,r.fragmentMatcher(t,u,i))?[2,this.resolveSelectionSet(s.selectionSet,t,r).then(function(e){a.push(e)})]:[2]):[2]})})},[2,Promise.all(e.selections.map(s)).then(function(){return ke(a)})]})})},e.prototype.resolveField=function(e,t,r){return O(this,void 0,void 0,function(){var n,i,o,a,s,u,c,l,f,h=this;return T(this,function(p){return n=r.variables,i=e.name.value,o=B(e),a=i!==o,s=t[o]||t[i],u=Promise.resolve(s),r.onlyRunForcedResolvers&&!this.shouldForceResolvers(e)||(c=t.__typename||r.defaultOperationType,(l=this.resolvers&&this.resolvers[c])&&(f=l[a?i:o])&&(u=Promise.resolve(f(t,V(e,n),r.context,{field:e})))),[2,u.then(function(t){return void 0===t&&(t=s),e.directives&&e.directives.forEach(function(e){"export"===e.name.value&&e.arguments&&e.arguments.forEach(function(e){"as"===e.name.value&&"StringValue"===e.value.kind&&(r.exportedVariables[e.value.value]=t)})}),e.selectionSet?null==t?t:Array.isArray(t)?h.resolveSubSelectedArray(e,t,r):e.selectionSet?h.resolveSelectionSet(e.selectionSet,t,r):void 0:t})]})})},e.prototype.resolveSubSelectedArray=function(e,t,r){var n=this;return Promise.all(t.map(function(t){return null===t?null:Array.isArray(t)?n.resolveSubSelectedArray(e,t,r):e.selectionSet?n.resolveSelectionSet(e.selectionSet,t,r):void 0}))},e}();function ht(e){var t=new Set,r=null;return new et(function(n){return t.add(n),r=r||e.subscribe({next:function(e){t.forEach(function(t){return t.next&&t.next(e)})},error:function(e){t.forEach(function(t){return t.error&&t.error(e)})},complete:function(){t.forEach(function(e){return e.complete&&e.complete()})}}),function(){t.delete(n)&&!t.size&&r&&(r.unsubscribe(),r=null)}})}var pt=Object.prototype.hasOwnProperty,dt=function(){function e(e){var t=e.link,r=e.queryDeduplication,n=void 0!==r&&r,i=e.store,o=e.onBroadcast,a=void 0===o?function(){}:o,s=e.ssrMode,u=void 0!==s&&s,c=e.clientAwareness,l=void 0===c?{}:c,f=e.localState,h=e.assumeImmutableResults;this.mutationStore=new ct,this.queryStore=new lt,this.clientAwareness={},this.idCounter=1,this.queries=new Map,this.fetchQueryRejectFns=new Map,this.transformCache=new(de?WeakMap:Map),this.inFlightLinkObservables=new Map,this.pollingInfoByQueryId=new Map,this.link=t,this.queryDeduplication=n,this.dataStore=i,this.onBroadcast=a,this.clientAwareness=l,this.localState=f||new ft({cache:i.getCache()}),this.ssrMode=u,this.assumeImmutableResults=!!h}return e.prototype.stop=function(){var e=this;this.queries.forEach(function(t,r){e.stopQueryNoBroadcast(r)}),this.fetchQueryRejectFns.forEach(function(e){e(new _("QueryManager stopped while query was in flight"))})},e.prototype.mutate=function(e){var t=e.mutation,r=e.variables,n=e.optimisticResponse,i=e.updateQueries,o=e.refetchQueries,a=void 0===o?[]:o,s=e.awaitRefetchQueries,u=void 0!==s&&s,c=e.update,l=e.errorPolicy,f=void 0===l?"none":l,h=e.fetchPolicy,p=e.context,d=void 0===p?{}:p;return O(this,void 0,void 0,function(){var e,o,s,l=this;return T(this,function(p){switch(p.label){case 0:return x(t,"mutation option is required. You must specify your GraphQL document in the mutation option."),x(!h||"no-cache"===h,"fetchPolicy for mutations currently only supports the 'no-cache' policy"),e=this.generateQueryId(),t=this.transform(t).document,this.setQuery(e,function(){return{document:t}}),r=this.getVariables(t,r),this.transform(t).hasClientExports?[4,this.localState.addExportedVariables(t,r,d)]:[3,2];case 1:r=p.sent(),p.label=2;case 2:return o=function(){var e={};return i&&l.queries.forEach(function(t,r){var n=t.observableQuery;if(n){var o=n.queryName;o&&pt.call(i,o)&&(e[r]={updater:i[o],query:l.queryStore.get(r)})}}),e},this.mutationStore.initMutation(e,t,r),this.dataStore.markMutationInit({mutationId:e,document:t,variables:r,updateQueries:o(),update:c,optimisticResponse:n}),this.broadcastQueries(),s=this,[2,new Promise(function(i,l){var p,v;s.getObservableFromLink(t,E({},d,{optimisticResponse:n}),r,!1).subscribe({next:function(n){we(n)&&"none"===f?v=new it({graphQLErrors:n.errors}):(s.mutationStore.markMutationResult(e),"no-cache"!==h&&s.dataStore.markMutationResult({mutationId:e,result:n,document:t,variables:r,updateQueries:o(),update:c}),p=n)},error:function(t){s.mutationStore.markMutationError(e,t),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:n}),s.broadcastQueries(),s.setQuery(e,function(){return{document:null}}),l(new it({networkError:t}))},complete:function(){if(v&&s.mutationStore.markMutationError(e,v),s.dataStore.markMutationComplete({mutationId:e,optimisticResponse:n}),s.broadcastQueries(),v)l(v);else{"function"==typeof a&&(a=a(p));var t=[];tt(a)&&a.forEach(function(e){if("string"==typeof e)s.queries.forEach(function(r){var n=r.observableQuery;n&&n.queryName===e&&t.push(n.refetch())});else{var r={query:e.query,variables:e.variables,fetchPolicy:"network-only"};e.context&&(r.context=e.context),t.push(s.query(r))}}),Promise.all(u?t:[]).then(function(){s.setQuery(e,function(){return{document:null}}),"ignore"===f&&p&&we(p)&&delete p.errors,i(p)})}}})})]}})})},e.prototype.fetchQuery=function(e,t,r,n){return O(this,void 0,void 0,function(){var i,o,a,s,u,c,l,f,h,p,d,v,y,m,b,g,w,O,S=this;return T(this,function(T){switch(T.label){case 0:return i=t.metadata,o=void 0===i?null:i,a=t.fetchPolicy,s=void 0===a?"cache-first":a,u=t.context,c=void 0===u?{}:u,l=this.transform(t.query).document,f=this.getVariables(l,t.variables),this.transform(l).hasClientExports?[4,this.localState.addExportedVariables(l,f,c)]:[3,2];case 1:f=T.sent(),T.label=2;case 2:if(t=E({},t,{variables:f}),d=p="network-only"===s||"no-cache"===s,p||(v=this.dataStore.getCache().diff({query:l,variables:f,returnPartialData:!0,optimistic:!1}),y=v.complete,m=v.result,d=!y||"cache-and-network"===s,h=m),b=d&&"cache-only"!==s&&"standby"!==s,W(["live"],l)&&(b=!0),g=this.idCounter++,w="no-cache"!==s?this.updateQueryWatch(e,l,t):void 0,this.setQuery(e,function(){return{document:l,lastRequestId:g,invalidated:!0,cancel:w}}),this.invalidate(n),this.queryStore.initQuery({queryId:e,document:l,storePreviousVariables:b,variables:f,isPoll:r===rt.poll,isRefetch:r===rt.refetch,metadata:o,fetchMoreForQueryId:n}),this.broadcastQueries(),b){if(O=this.fetchRequest({requestId:g,queryId:e,document:l,options:t,fetchMoreForQueryId:n}).catch(function(t){throw t.hasOwnProperty("graphQLErrors")?t:(g>=S.getQuery(e).lastRequestId&&(S.queryStore.markQueryError(e,t,n),S.invalidate(e),S.invalidate(n),S.broadcastQueries()),new it({networkError:t}))}),"cache-and-network"!==s)return[2,O];O.catch(function(){})}return this.queryStore.markQueryResultClient(e,!b),this.invalidate(e),this.invalidate(n),this.transform(l).hasForcedResolvers?[2,this.localState.runResolvers({document:l,remoteResult:{data:h},context:c,variables:f,onlyRunForcedResolvers:!0}).then(function(r){return S.markQueryResult(e,r,t,n),S.broadcastQueries(),r})]:(this.broadcastQueries(),[2,{data:h}])}})})},e.prototype.markQueryResult=function(e,t,r,n){var i=r.fetchPolicy,o=r.variables,a=r.errorPolicy;"no-cache"===i?this.setQuery(e,function(){return{newData:{result:t.data,complete:!0}}}):this.dataStore.markQueryResult(t,this.getQuery(e).document,o,n,"ignore"===a||"all"===a)},e.prototype.queryListenerForObserver=function(e,t,r){var n=this;function i(e,t){if(r[e])try{r[e](t)}catch(e){x.error(e)}else"error"===e&&x.error(t)}return function(r,o){if(n.invalidate(e,!1),r){var a=n.getQuery(e),s=a.observableQuery,u=a.document,c=s?s.options.fetchPolicy:t.fetchPolicy;if("standby"!==c){var l=Ze(r.networkStatus),f=s&&s.getLastResult(),h=!(!f||f.networkStatus===r.networkStatus),p=t.returnPartialData||!o&&r.previousVariables||h&&t.notifyOnNetworkStatusChange||"cache-only"===c||"cache-and-network"===c;if(!l||p){var d=tt(r.graphQLErrors),v=s&&s.options.errorPolicy||t.errorPolicy||"none";if("none"===v&&d||r.networkError)return i("error",new it({graphQLErrors:r.graphQLErrors,networkError:r.networkError}));try{var y=void 0,m=void 0;if(o)"no-cache"!==c&&"network-only"!==c&&n.setQuery(e,function(){return{newData:null}}),y=o.result,m=!o.complete;else{var b=s&&s.getLastError(),g="none"!==v&&(b&&b.graphQLErrors)!==r.graphQLErrors;if(f&&f.data&&!g)y=f.data,m=!1;else{var w=n.dataStore.getCache().diff({query:u,variables:r.previousVariables||r.variables,returnPartialData:!0,optimistic:!0});y=w.result,m=!w.complete}}var E=m&&!(t.returnPartialData||"cache-only"===c),O={data:E?f&&f.data:y,loading:l,networkStatus:r.networkStatus,stale:E};"all"===v&&d&&(O.errors=r.graphQLErrors),i("next",O)}catch(e){i("error",new it({networkError:e}))}}}}}},e.prototype.transform=function(e){var t,r=this.transformCache;if(!r.has(e)){var n=this.dataStore.getCache(),i=n.transformDocument(e),o=(t=n.transformForLink(i),fe([he],ee(t))),a=this.localState.clientQuery(i),s=this.localState.serverQuery(o),u={document:i,hasClientExports:H(i),hasForcedResolvers:this.localState.shouldForceResolvers(i),clientQuery:a,serverQuery:s,defaultVars:ae(te(i))},c=function(e){e&&!r.has(e)&&r.set(e,u)};c(e),c(i),c(a),c(s)}return r.get(e)},e.prototype.getVariables=function(e,t){return E({},this.transform(e).defaultVars,t)},e.prototype.watchQuery=function(e,t){void 0===t&&(t=!0),x("standby"!==e.fetchPolicy,'client.watchQuery cannot be called with fetchPolicy set to "standby"'),e.variables=this.getVariables(e.query,e.variables),void 0===e.notifyOnNetworkStatusChange&&(e.notifyOnNetworkStatusChange=!1);var r=E({},e);return new ot({queryManager:this,options:r,shouldSubscribe:t})},e.prototype.query=function(e){var t=this;return x(e.query,"query option is required. You must specify your GraphQL document in the query option."),x("Document"===e.query.kind,'You must wrap the query string in a "gql" tag.'),x(!e.returnPartialData,"returnPartialData option only supported on watchQuery."),x(!e.pollInterval,"pollInterval option only supported on watchQuery."),new Promise(function(r,n){var i=t.watchQuery(e,!1);t.fetchQueryRejectFns.set("query:"+i.queryId,n),i.result().then(r,n).then(function(){return t.fetchQueryRejectFns.delete("query:"+i.queryId)})})},e.prototype.generateQueryId=function(){return String(this.idCounter++)},e.prototype.stopQueryInStore=function(e){this.stopQueryInStoreNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryInStoreNoBroadcast=function(e){this.stopPollingQuery(e),this.queryStore.stopQuery(e),this.invalidate(e)},e.prototype.addQueryListener=function(e,t){this.setQuery(e,function(e){return e.listeners.add(t),{invalidated:!1}})},e.prototype.updateQueryWatch=function(e,t,r){var n=this,i=this.getQuery(e).cancel;i&&i();return this.dataStore.getCache().watch({query:t,variables:r.variables,optimistic:!0,previousResult:function(){var t=null,r=n.getQuery(e).observableQuery;if(r){var i=r.getLastResult();i&&(t=i.data)}return t},callback:function(t){n.setQuery(e,function(){return{invalidated:!0,newData:t}})}})},e.prototype.addObservableQuery=function(e,t){this.setQuery(e,function(){return{observableQuery:t}})},e.prototype.removeObservableQuery=function(e){var t=this.getQuery(e).cancel;this.setQuery(e,function(){return{observableQuery:null}}),t&&t()},e.prototype.clearStore=function(){this.fetchQueryRejectFns.forEach(function(e){e(new _("Store reset while query was in flight (not completed in link chain)"))});var e=[];return this.queries.forEach(function(t,r){t.observableQuery&&e.push(r)}),this.queryStore.reset(e),this.mutationStore.reset(),this.dataStore.reset()},e.prototype.resetStore=function(){var e=this;return this.clearStore().then(function(){return e.reFetchObservableQueries()})},e.prototype.reFetchObservableQueries=function(e){var t=this;void 0===e&&(e=!1);var r=[];return this.queries.forEach(function(n,i){var o=n.observableQuery;if(o){var a=o.options.fetchPolicy;o.resetLastResults(),"cache-only"===a||!e&&"standby"===a||r.push(o.refetch()),t.setQuery(i,function(){return{newData:null}}),t.invalidate(i)}}),this.broadcastQueries(),Promise.all(r)},e.prototype.observeQuery=function(e,t,r){return this.addQueryListener(e,this.queryListenerForObserver(e,t,r)),this.fetchQuery(e,t)},e.prototype.startQuery=function(e,t,r){return x.warn("The QueryManager.startQuery method has been deprecated"),this.addQueryListener(e,r),this.fetchQuery(e,t).catch(function(){}),e},e.prototype.startGraphQLSubscription=function(e){var t=this,r=e.query,n=e.fetchPolicy,i=e.variables;r=this.transform(r).document,i=this.getVariables(r,i);var o=function(e){return t.getObservableFromLink(r,{},e,!1).map(function(i){if(n&&"no-cache"===n||(t.dataStore.markSubscriptionResult(i,r,e),t.broadcastQueries()),we(i))throw new it({graphQLErrors:i.errors});return i})};if(this.transform(r).hasClientExports){var a=this.localState.addExportedVariables(r,i).then(o);return new et(function(e){var t=null;return a.then(function(r){return t=r.subscribe(e)},e.error),function(){return t&&t.unsubscribe()}})}return o(i)},e.prototype.stopQuery=function(e){this.stopQueryNoBroadcast(e),this.broadcastQueries()},e.prototype.stopQueryNoBroadcast=function(e){this.stopQueryInStoreNoBroadcast(e),this.removeQuery(e)},e.prototype.removeQuery=function(e){this.fetchQueryRejectFns.delete("query:"+e),this.fetchQueryRejectFns.delete("fetchRequest:"+e),this.getQuery(e).subscriptions.forEach(function(e){return e.unsubscribe()}),this.queries.delete(e)},e.prototype.getCurrentQueryResult=function(e,t){void 0===t&&(t=!0);var r=e.options,n=r.variables,i=r.query,o=r.fetchPolicy,a=r.returnPartialData,s=e.getLastResult(),u=this.getQuery(e.queryId).newData;if(u&&u.complete)return{data:u.result,partial:!1};if("no-cache"===o||"network-only"===o)return{data:void 0,partial:!1};var c=this.dataStore.getCache().diff({query:i,variables:n,previousResult:s?s.data:void 0,returnPartialData:!0,optimistic:t}),l=c.result,f=c.complete;return{data:f||a?l:void 0,partial:!f}},e.prototype.getQueryWithPreviousResult=function(e){var t;if("string"==typeof e){var r=this.getQuery(e).observableQuery;x(r,"ObservableQuery with this id doesn't exist: "+e),t=r}else t=e;var n=t.options,i=n.variables,o=n.query;return{previousResult:this.getCurrentQueryResult(t,!1).data,variables:i,document:o}},e.prototype.broadcastQueries=function(){var e=this;this.onBroadcast(),this.queries.forEach(function(t,r){t.invalidated&&t.listeners.forEach(function(n){n&&n(e.queryStore.get(r),t.newData)})})},e.prototype.getLocalState=function(){return this.localState},e.prototype.getObservableFromLink=function(e,t,r,n){var i,o=this;void 0===n&&(n=this.queryDeduplication);var a=this.transform(e).serverQuery;if(a){var s=this.inFlightLinkObservables,u=this.link,c={query:a,variables:r,operationName:re(a)||void 0,context:this.prepareContext(E({},t,{forceFetch:!n}))};if(t=c.context,n){var l=s.get(a)||new Map;s.set(a,l);var f=JSON.stringify(r);if(!(i=l.get(f))){l.set(f,i=ht(He(u,c)));var h=function(){l.delete(f),l.size||s.delete(a),p.unsubscribe()},p=i.subscribe({next:h,error:h,complete:h})}}else i=ht(He(u,c))}else i=et.of({data:{}}),t=this.prepareContext(t);var d=this.transform(e).clientQuery;return d&&(i=function(e,t){return new et(function(r){var n=r.next,i=r.error,o=r.complete,a=0,s=!1,u={next:function(e){++a,new Promise(function(r){r(t(e))}).then(function(e){--a,n&&n.call(r,e),s&&u.complete()},function(e){--a,i&&i.call(r,e)})},error:function(e){i&&i.call(r,e)},complete:function(){s=!0,a||o&&o.call(r)}},c=e.subscribe(u);return function(){return c.unsubscribe()}})}(i,function(e){return o.localState.runResolvers({document:d,remoteResult:e,context:t,variables:r})})),i},e.prototype.fetchRequest=function(e){var t,r,n=this,i=e.requestId,o=e.queryId,a=e.document,s=e.options,u=e.fetchMoreForQueryId,c=s.variables,l=s.errorPolicy,f=void 0===l?"none":l,h=s.fetchPolicy;return new Promise(function(e,l){var p=n.getObservableFromLink(a,s.context,c),d="fetchRequest:"+o;n.fetchQueryRejectFns.set(d,l);var v=function(){n.fetchQueryRejectFns.delete(d),n.setQuery(o,function(e){e.subscriptions.delete(y)})},y=p.map(function(e){if(i>=n.getQuery(o).lastRequestId&&(n.markQueryResult(o,e,s,u),n.queryStore.markQueryResult(o,e,u),n.invalidate(o),n.invalidate(u),n.broadcastQueries()),"none"===f&&tt(e.errors))return l(new it({graphQLErrors:e.errors}));if("all"===f&&(r=e.errors),u||"no-cache"===h)t=e.data;else{var p=n.dataStore.getCache().diff({variables:c,query:a,optimistic:!1,returnPartialData:!0}),d=p.result;(p.complete||s.returnPartialData)&&(t=d)}}).subscribe({error:function(e){v(),l(e)},complete:function(){v(),e({data:t,errors:r,loading:!1,networkStatus:Xe.ready,stale:!1})}});n.setQuery(o,function(e){e.subscriptions.add(y)})})},e.prototype.getQuery=function(e){return this.queries.get(e)||{listeners:new Set,invalidated:!1,document:null,newData:null,lastRequestId:1,observableQuery:null,subscriptions:new Set}},e.prototype.setQuery=function(e,t){var r=this.getQuery(e),n=E({},r,t(r));this.queries.set(e,n)},e.prototype.invalidate=function(e,t){void 0===t&&(t=!0),e&&this.setQuery(e,function(){return{invalidated:t}})},e.prototype.prepareContext=function(e){void 0===e&&(e={});var t=this.localState.prepareContext(e);return E({},t,{clientAwareness:this.clientAwareness})},e.prototype.checkInFlight=function(e){var t=this.queryStore.get(e);return t&&t.networkStatus!==Xe.ready&&t.networkStatus!==Xe.error},e.prototype.startPollingQuery=function(e,t,r){var n=this,i=e.pollInterval;if(x(i,"Attempted to start a polling query without a polling interval."),!this.ssrMode){var o=this.pollingInfoByQueryId.get(t);o||this.pollingInfoByQueryId.set(t,o={}),o.interval=i,o.options=E({},e,{fetchPolicy:"network-only"});var a=function(){var e=n.pollingInfoByQueryId.get(t);e&&(n.checkInFlight(t)?s():n.fetchQuery(t,e.options,rt.poll).then(s,s))},s=function(){var e=n.pollingInfoByQueryId.get(t);e&&(clearTimeout(e.timeout),e.timeout=setTimeout(a,e.interval))};r&&this.addQueryListener(t,r),s()}return t},e.prototype.stopPollingQuery=function(e){this.pollingInfoByQueryId.delete(e)},e}(),vt=function(){function e(e){this.cache=e}return e.prototype.getCache=function(){return this.cache},e.prototype.markQueryResult=function(e,t,r,n,i){void 0===i&&(i=!1);var o=!we(e);i&&we(e)&&e.data&&(o=!0),!n&&o&&this.cache.write({result:e.data,dataId:"ROOT_QUERY",query:t,variables:r})},e.prototype.markSubscriptionResult=function(e,t,r){we(e)||this.cache.write({result:e.data,dataId:"ROOT_SUBSCRIPTION",query:t,variables:r})},e.prototype.markMutationInit=function(e){var t,r=this;e.optimisticResponse&&(t="function"==typeof e.optimisticResponse?e.optimisticResponse(e.variables):e.optimisticResponse,this.cache.recordOptimisticTransaction(function(n){var i=r.cache;r.cache=n;try{r.markMutationResult({mutationId:e.mutationId,result:{data:t},document:e.document,variables:e.variables,updateQueries:e.updateQueries,update:e.update})}finally{r.cache=i}},e.mutationId))},e.prototype.markMutationResult=function(e){var t=this;if(!we(e.result)){var r=[{result:e.result.data,dataId:"ROOT_MUTATION",query:e.document,variables:e.variables}],n=e.updateQueries;n&&Object.keys(n).forEach(function(i){var o=n[i],a=o.query,s=o.updater,u=t.cache.diff({query:a.document,variables:a.variables,returnPartialData:!0,optimistic:!1}),c=u.result;if(u.complete){var l=ge(function(){return s(c,{mutationResult:e.result,queryName:re(a.document)||void 0,queryVariables:a.variables})});l&&r.push({result:l,dataId:"ROOT_QUERY",query:a.document,variables:a.variables})}}),this.cache.performTransaction(function(t){r.forEach(function(e){return t.write(e)});var n=e.update;n&&ge(function(){return n(t,e.result)})})}},e.prototype.markMutationComplete=function(e){var t=e.mutationId;e.optimisticResponse&&this.cache.removeOptimistic(t)},e.prototype.markUpdateQueryResult=function(e,t,r){this.cache.write({result:r,dataId:"ROOT_QUERY",variables:t,query:e})},e.prototype.reset=function(){return this.cache.reset()},e}(),yt="2.6.4",mt=!1,bt=function(){function e(e){var t=this;this.defaultOptions={},this.resetStoreCallbacks=[],this.clearStoreCallbacks=[];var r=e.cache,n=e.ssrMode,i=void 0!==n&&n,o=e.ssrForceFetchDelay,a=void 0===o?0:o,s=e.connectToDevTools,u=e.queryDeduplication,c=void 0===u||u,l=e.defaultOptions,f=e.assumeImmutableResults,h=void 0!==f&&f,p=e.resolvers,d=e.typeDefs,v=e.fragmentMatcher,y=e.name,m=e.version,b=e.link;if(!b&&p&&(b=We.empty()),!b||!r)throw new _("In order to initialize Apollo Client, you must specify 'link' and 'cache' properties in the options object.\nThese options are part of the upgrade requirements when migrating from Apollo Client 1.x to Apollo Client 2.x.\nFor more information, please visit: https://www.apollographql.com/docs/tutorial/client.html#apollo-client-setup");this.link=b,this.cache=r,this.store=new vt(r),this.disableNetworkFetches=i||a>0,this.queryDeduplication=c,this.defaultOptions=l||{},this.typeDefs=d,a&&setTimeout(function(){return t.disableNetworkFetches=!1},a),this.watchQuery=this.watchQuery.bind(this),this.query=this.query.bind(this),this.mutate=this.mutate.bind(this),this.resetStore=this.resetStore.bind(this),this.reFetchObservableQueries=this.reFetchObservableQueries.bind(this);var g="undefined"!=typeof window&&!window.__APOLLO_CLIENT__;(void 0===s?g:s&&"undefined"!=typeof window)&&(window.__APOLLO_CLIENT__=this),mt||(mt=!0,"undefined"!=typeof window&&window.document&&window.top===window.self&&void 0===window.__APOLLO_DEVTOOLS_GLOBAL_HOOK__&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("Chrome")>-1&&console.debug("Download the Apollo DevTools for a better development experience: https://chrome.google.com/webstore/detail/apollo-client-developer-t/jdkknkkbebbapilgoeccciglkfbmbnfm")),this.version=yt,this.localState=new ft({cache:r,client:this,resolvers:p,fragmentMatcher:v}),this.queryManager=new dt({link:this.link,store:this.store,queryDeduplication:c,ssrMode:i,clientAwareness:{name:y,version:m},localState:this.localState,assumeImmutableResults:h,onBroadcast:function(){t.devToolsHookCb&&t.devToolsHookCb({action:{},state:{queries:t.queryManager.queryStore.getStore(),mutations:t.queryManager.mutationStore.getStore()},dataWithOptimisticResults:t.cache.extract(!0)})}})}return e.prototype.stop=function(){this.queryManager.stop()},e.prototype.watchQuery=function(e){return this.defaultOptions.watchQuery&&(e=E({},this.defaultOptions.watchQuery,e)),!this.disableNetworkFetches||"network-only"!==e.fetchPolicy&&"cache-and-network"!==e.fetchPolicy||(e=E({},e,{fetchPolicy:"cache-first"})),this.queryManager.watchQuery(e)},e.prototype.query=function(e){return this.defaultOptions.query&&(e=E({},this.defaultOptions.query,e)),x("cache-and-network"!==e.fetchPolicy,"The cache-and-network fetchPolicy does not work with client.query, because client.query can only return a single result. Please use client.watchQuery to receive multiple results from the cache and the network, or consider using a different fetchPolicy, such as cache-first or network-only."),this.disableNetworkFetches&&"network-only"===e.fetchPolicy&&(e=E({},e,{fetchPolicy:"cache-first"})),this.queryManager.query(e)},e.prototype.mutate=function(e){return this.defaultOptions.mutate&&(e=E({},this.defaultOptions.mutate,e)),this.queryManager.mutate(e)},e.prototype.subscribe=function(e){return this.queryManager.startGraphQLSubscription(e)},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.cache.readQuery(e,t)},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.cache.readFragment(e,t)},e.prototype.writeQuery=function(e){var t=this.cache.writeQuery(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeFragment=function(e){var t=this.cache.writeFragment(e);return this.queryManager.broadcastQueries(),t},e.prototype.writeData=function(e){var t=this.cache.writeData(e);return this.queryManager.broadcastQueries(),t},e.prototype.__actionHookForDevTools=function(e){this.devToolsHookCb=e},e.prototype.__requestRaw=function(e){return He(this.link,e)},e.prototype.initQueryManager=function(){return x.warn("Calling the initQueryManager method is no longer necessary, and it will be removed from ApolloClient in version 3.0."),this.queryManager},e.prototype.resetStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.resetStoreCallbacks.map(function(e){return e()}))}).then(function(){return e.reFetchObservableQueries()})},e.prototype.clearStore=function(){var e=this;return Promise.resolve().then(function(){return e.queryManager.clearStore()}).then(function(){return Promise.all(e.clearStoreCallbacks.map(function(e){return e()}))})},e.prototype.onResetStore=function(e){var t=this;return this.resetStoreCallbacks.push(e),function(){t.resetStoreCallbacks=t.resetStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.onClearStore=function(e){var t=this;return this.clearStoreCallbacks.push(e),function(){t.clearStoreCallbacks=t.clearStoreCallbacks.filter(function(t){return t!==e})}},e.prototype.reFetchObservableQueries=function(e){return this.queryManager.reFetchObservableQueries(e)},e.prototype.extract=function(e){return this.cache.extract(e)},e.prototype.restore=function(e){return this.cache.restore(e)},e.prototype.addResolvers=function(e){this.localState.addResolvers(e)},e.prototype.setResolvers=function(e){this.localState.setResolvers(e)},e.prototype.getResolvers=function(){return this.localState.getResolvers()},e.prototype.setLocalStateFragmentMatcher=function(e){this.localState.setFragmentMatcher(e)},e}();function gt(e){return{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:wt(e)}]}}function wt(e){if("number"==typeof e||"boolean"==typeof e||"string"==typeof e||null==e)return null;if(Array.isArray(e))return wt(e[0]);var t=[];return Object.keys(e).forEach(function(r){var n={kind:"Field",name:{kind:"Name",value:r},selectionSet:wt(e[r])||void 0};t.push(n)}),{kind:"SelectionSet",selections:t}}var Et={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:null,variableDefinitions:null,directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"__typename"},arguments:[],directives:[],selectionSet:null}]}}]},Ot=function(){function e(){}return e.prototype.transformDocument=function(e){return e},e.prototype.transformForLink=function(e){return e},e.prototype.readQuery=function(e,t){return void 0===t&&(t=!1),this.read({query:e.query,variables:e.variables,optimistic:t})},e.prototype.readFragment=function(e,t){return void 0===t&&(t=!1),this.read({query:$(e.fragment,e.fragmentName),variables:e.variables,rootId:e.id,optimistic:t})},e.prototype.writeQuery=function(e){this.write({dataId:"ROOT_QUERY",result:e.data,query:e.query,variables:e.variables})},e.prototype.writeFragment=function(e){this.write({dataId:e.id,result:e.data,variables:e.variables,query:$(e.fragment,e.fragmentName)})},e.prototype.writeData=function(e){var t,r,n=e.id,i=e.data;if(void 0!==n){var o=null;try{o=this.read({rootId:n,optimistic:!1,query:Et})}catch(e){}var a=o&&o.__typename||"__ClientData",s=Object.assign({__typename:a},i);this.writeFragment({id:n,fragment:(t=s,r=a,{kind:"Document",definitions:[{kind:"FragmentDefinition",typeCondition:{kind:"NamedType",name:{kind:"Name",value:r||"__FakeType"}},name:{kind:"Name",value:"GeneratedClientQuery"},selectionSet:wt(t)}]}),data:s})}else this.writeQuery({query:gt(i),data:i})},e}(),Tt=null,St={},kt=1,It=Array,_t=It["@wry/context:Slot"]||function(){var e=function(){function e(){this.id=["slot",kt++,Date.now(),Math.random().toString(36).slice(2)].join(":")}return e.prototype.hasValue=function(){for(var e=Tt;e;e=e.parent)if(this.id in e.slots){var t=e.slots[this.id];if(t===St)break;return e!==Tt&&(Tt.slots[this.id]=t),!0}return Tt&&(Tt.slots[this.id]=St),!1},e.prototype.getValue=function(){if(this.hasValue())return Tt.slots[this.id]},e.prototype.withValue=function(e,t,r,n){var i,o=((i={__proto__:null})[this.id]=e,i),a=Tt;Tt={parent:a,slots:o};try{return t.apply(n,r)}finally{Tt=a}},e.bind=function(e){var t=Tt;return function(){var r=Tt;try{return Tt=t,e.apply(this,arguments)}finally{Tt=r}}},e.noContext=function(e,t,r){if(!Tt)return e.apply(r,t);var n=Tt;try{return Tt=null,e.apply(r,t)}finally{Tt=n}},e}();try{Object.defineProperty(It,"@wry/context:Slot",{value:It["@wry/context:Slot"]=e,enumerable:!1,writable:!1,configurable:!1})}finally{return e}}();_t.bind,_t.noContext;function xt(){}var Nt=function(){function e(e,t){void 0===e&&(e=1/0),void 0===t&&(t=xt),this.max=e,this.dispose=t,this.map=new Map,this.newest=null,this.oldest=null}return e.prototype.has=function(e){return this.map.has(e)},e.prototype.get=function(e){var t=this.getEntry(e);return t&&t.value},e.prototype.getEntry=function(e){var t=this.map.get(e);if(t&&t!==this.newest){var r=t.older,n=t.newer;n&&(n.older=r),r&&(r.newer=n),t.older=this.newest,t.older.newer=t,t.newer=null,this.newest=t,t===this.oldest&&(this.oldest=n)}return t},e.prototype.set=function(e,t){var r=this.getEntry(e);return r?r.value=t:(r={key:e,value:t,newer:null,older:this.newest},this.newest&&(this.newest.newer=r),this.newest=r,this.oldest=this.oldest||r,this.map.set(e,r),r.value)},e.prototype.clean=function(){for(;this.oldest&&this.map.size>this.max;)this.delete(this.oldest.key)},e.prototype.delete=function(e){var t=this.map.get(e);return!!t&&(t===this.newest&&(this.newest=t.older),t===this.oldest&&(this.oldest=t.newer),t.newer&&(t.newer.older=t.older),t.older&&(t.older.newer=t.newer),this.map.delete(e),this.dispose(t.value,e),!0)},e}(),Rt=new _t,At=[],Dt=[],Ct=100;function Qt(e,t){if(!e)throw new Error(t||"assertion failure")}function Pt(e){switch(e.length){case 0:throw new Error("unknown value");case 1:return e[0];case 2:throw e[1]}}var Ft=function(){function e(t,r){this.fn=t,this.args=r,this.parents=new Set,this.childValues=new Map,this.dirtyChildren=null,this.dirty=!0,this.recomputing=!1,this.value=[],++e.count}return e.prototype.recompute=function(){if(Qt(!this.recomputing,"already recomputing"),function(e){var t=Rt.getValue();if(t)return e.parents.add(t),t.childValues.has(e)||t.childValues.set(e,[]),qt(e)?Vt(t,e):Bt(t,e),t}(this)||!Gt(this))return qt(this)?function(e){var t=Kt(e);Rt.withValue(e,Mt,[e]),function(e){if("function"==typeof e.subscribe)try{Yt(e),e.unsubscribe=e.subscribe.apply(null,e.args)}catch(t){return e.setDirty(),!1}return!0}(e)&&function(e){if(e.dirty=!1,qt(e))return;jt(e)}(e);return t.forEach(Gt),Pt(e.value)}(this):Pt(this.value)},e.prototype.setDirty=function(){this.dirty||(this.dirty=!0,this.value.length=0,Lt(this),Yt(this))},e.prototype.dispose=function(){var e=this;Kt(this).forEach(Gt),Yt(this),this.parents.forEach(function(t){t.setDirty(),Jt(t,e)})},e.count=0,e}();function Mt(e){e.recomputing=!0,e.value.length=0;try{e.value[0]=e.fn.apply(null,e.args)}catch(t){e.value[1]=t}e.recomputing=!1}function qt(e){return e.dirty||!(!e.dirtyChildren||!e.dirtyChildren.size)}function Lt(e){e.parents.forEach(function(t){return Vt(t,e)})}function jt(e){e.parents.forEach(function(t){return Bt(t,e)})}function Vt(e,t){if(Qt(e.childValues.has(t)),Qt(qt(t)),e.dirtyChildren){if(e.dirtyChildren.has(t))return}else e.dirtyChildren=Dt.pop()||new Set;e.dirtyChildren.add(t),Lt(e)}function Bt(e,t){Qt(e.childValues.has(t)),Qt(!qt(t));var r,n,i,o=e.childValues.get(t);0===o.length?e.childValues.set(t,t.value.slice(0)):(r=o,n=t.value,(i=r.length)>0&&i===n.length&&r[i-1]===n[i-1]||e.setDirty()),Ut(e,t),qt(e)||jt(e)}function Ut(e,t){var r=e.dirtyChildren;r&&(r.delete(t),0===r.size&&(Dt.length<Ct&&Dt.push(r),e.dirtyChildren=null))}function Gt(e){return 0===e.parents.size&&"function"==typeof e.reportOrphan&&!0===e.reportOrphan()}function Kt(e){var t=At;return e.childValues.size>0&&(t=[],e.childValues.forEach(function(r,n){Jt(e,n),t.push(n)})),Qt(null===e.dirtyChildren),t}function Jt(e,t){t.parents.delete(e),e.childValues.delete(t),Ut(e,t)}function Yt(e){var t=e.unsubscribe;"function"==typeof t&&(e.unsubscribe=void 0,t())}var zt=function(){function t(e){this.weakness=e}return t.prototype.lookup=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this.lookupArray(e)},t.prototype.lookupArray=function(e){var t=this;return e.forEach(function(e){return t=t.getChildTrie(e)}),t.data||(t.data=Object.create(null))},t.prototype.getChildTrie=function(r){var n=this.weakness&&function(t){switch(e(t)){case"object":if(null===t)break;case"function":return!0}return!1}(r)?this.weak||(this.weak=new WeakMap):this.strong||(this.strong=new Map),i=n.get(r);return i||n.set(r,i=new t(this.weakness)),i},t}();var Wt=new zt("function"==typeof WeakMap);function Ht(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Wt.lookupArray(e)}var Xt=new Set;function $t(e,t){void 0===t&&(t=Object.create(null));var r=new Nt(t.max||Math.pow(2,16),function(e){return e.dispose()}),n=!!t.disposable,i=t.makeCacheKey||Ht;function o(){if(!n||Rt.hasValue()){var o=i.apply(null,arguments);if(void 0===o)return e.apply(null,arguments);var a=Array.prototype.slice.call(arguments),s=r.get(o);s?s.args=a:(s=new Ft(e,a),r.set(o,s),s.subscribe=t.subscribe,n&&(s.reportOrphan=function(){return r.delete(o)}));var u=s.recompute();return r.set(o,s),Xt.add(r),Rt.hasValue()||(Xt.forEach(function(e){return e.clean()}),Xt.clear()),n?void 0:u}}return o.dirty=function(){var e=i.apply(null,arguments),t=void 0!==e&&r.get(e);t&&t.setDirty()},o}var Zt=!1;function er(){var e=!Zt;return be()||(Zt=!0),e}var tr=function(){function e(){}return e.prototype.ensureReady=function(){return Promise.resolve()},e.prototype.canBypassInit=function(){return!0},e.prototype.match=function(e,t,r){var n=r.store.get(e.id),i="ROOT_QUERY"===e.id;if(!n)return i;var o=n.__typename,a=void 0===o?i&&"Query":o;return a?a===t||(er()&&x.error("You are using the simple (heuristic) fragment matcher, but your queries contain union or interface types. Apollo Client will not be able to accurately map fragments. To make this error go away, use the `IntrospectionFragmentMatcher` as described in the docs: https://www.apollographql.com/docs/react/advanced/fragments.html#fragment-matcher"),"heuristic"):(er()&&(x.warn("You're using fragments in your queries, but either don't have the addTypename:\n  true option set in Apollo Client, or you are trying to write a fragment to the store without the __typename.\n   Please turn on the addTypename option and include __typename when writing fragments so that Apollo Client\n   can accurately match fragments."),x.warn("Could not find __typename on Fragment ",t,n),x.warn("DEPRECATION WARNING: using fragments without __typename is unsupported behavior and will be removed in future versions of Apollo client. You should fix this and set addTypename to true now.")),"heuristic")},e}(),rr=Object.prototype.hasOwnProperty,nr=function(){function e(e){var t=this;void 0===e&&(e=Object.create(null)),this.data=e,this.depend=$t(function(e){return t.data[e]},{disposable:!0,makeCacheKey:function(e){return e}})}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.depend(e),this.data[e]},e.prototype.set=function(e,t){t!==this.data[e]&&(this.data[e]=t,this.depend.dirty(e))},e.prototype.delete=function(e){rr.call(this.data,e)&&(delete this.data[e],this.depend.dirty(e))},e.prototype.clear=function(){this.replace(null)},e.prototype.replace=function(e){var t=this;e?(Object.keys(e).forEach(function(r){t.set(r,e[r])}),Object.keys(this.data).forEach(function(r){rr.call(e,r)||t.delete(r)})):Object.keys(this.data).forEach(function(e){t.delete(e)})},e}();function ir(e){return new nr(e)}var or=function(){function t(e){var t=this,r=void 0===e?{}:e,n=r.cacheKeyRoot,i=void 0===n?new zt(de):n,o=r.freezeResults,a=void 0!==o&&o,s=this.executeStoreQuery,u=this.executeSelectionSet,c=this.executeSubSelectedArray;this.freezeResults=a,this.executeStoreQuery=$t(function(e){return s.call(t,e)},{makeCacheKey:function(e){var t=e.query,r=e.rootValue,n=e.contextValue,o=e.variableValues,a=e.fragmentMatcher;if(n.store instanceof nr)return i.lookup(n.store,t,a,JSON.stringify(o),r.id)}}),this.executeSelectionSet=$t(function(e){return u.call(t,e)},{makeCacheKey:function(e){var t=e.selectionSet,r=e.rootValue,n=e.execContext;if(n.contextValue.store instanceof nr)return i.lookup(n.contextValue.store,t,n.fragmentMatcher,JSON.stringify(n.variableValues),r.id)}}),this.executeSubSelectedArray=$t(function(e){return c.call(t,e)},{makeCacheKey:function(e){var t=e.field,r=e.array,n=e.execContext;if(n.contextValue.store instanceof nr)return i.lookup(n.contextValue.store,t,r,JSON.stringify(n.variableValues))}})}return t.prototype.readQueryFromStore=function(e){return this.diffQueryAgainstStore(E({},e,{returnPartialData:!1})).result},t.prototype.diffQueryAgainstStore=function(e){var t,r=e.store,n=e.query,i=e.variables,o=e.previousResult,a=e.returnPartialData,s=void 0===a||a,u=e.rootId,c=void 0===u?"ROOT_QUERY":u,l=e.fragmentMatcherFunction,f=e.config;i=Z({},ae((x((t=te(n))&&"query"===t.operation,"Must contain a query definition."),t)),i);var h={store:r,dataIdFromObject:f&&f.dataIdFromObject,cacheRedirects:f&&f.cacheRedirects||{}},p=this.executeStoreQuery({query:n,rootValue:{type:"id",id:c,generated:!0,typename:"Query"},contextValue:h,variableValues:i,fragmentMatcher:l}),d=p.missing&&p.missing.length>0;return d&&!s&&p.missing.forEach(function(e){if(!e.tolerable)throw new _("Can't find field "+e.fieldName+" on object "+JSON.stringify(e.object,null,2)+".")}),o&&F(o,p.result)&&(p.result=o),{result:p.result,complete:!d}},t.prototype.executeStoreQuery=function(e){var t=e.query,r=e.rootValue,n=e.contextValue,i=e.variableValues,o=e.fragmentMatcher,a=void 0===o?sr:o,s=ie(t),u={query:t,fragmentMap:oe(ne(t)),contextValue:n,variableValues:i,fragmentMatcher:a};return this.executeSelectionSet({selectionSet:s.selectionSet,rootValue:r,execContext:u})},t.prototype.executeSelectionSet=function(e){var t=this,r=e.selectionSet,n=e.rootValue,i=e.execContext,o=i.fragmentMap,a=i.contextValue,s=i.variableValues,u={result:null},c=[],l=a.store.get(n.id),f=l&&l.__typename||"ROOT_QUERY"===n.id&&"Query"||void 0;function h(e){var t;return e.missing&&(u.missing=u.missing||[],(t=u.missing).push.apply(t,e.missing)),e.result}return r.selections.forEach(function(e){var r;if(z(e,s))if(U(e)){var u=h(t.executeField(l,f,e,i));void 0!==u&&c.push(((r={})[B(e)]=u,r))}else{var p=void 0;if(G(e))p=e;else if(!(p=o[e.name.value]))throw new _("No fragment named "+e.name.value);var d=p.typeCondition&&p.typeCondition.name.value,v=!d||i.fragmentMatcher(n,d,a);if(v){var y=t.executeSelectionSet({selectionSet:p.selectionSet,rootValue:n,execContext:i});"heuristic"===v&&y.missing&&(y=E({},y,{missing:y.missing.map(function(e){return E({},e,{tolerable:!0})})})),c.push(h(y))}}}),u.result=ke(c),this.freezeResults&&Object.freeze(u.result),u},t.prototype.executeField=function(t,r,n,i){var o=i.variableValues,a=i.contextValue,s=function(t,r,n,i,o,a){a.resultKey;var s=a.directives,u=n;(i||s)&&(u=j(u,i,s));var c=void 0;if(t&&void 0===(c=t[u])&&o.cacheRedirects&&"string"==typeof r){var l=o.cacheRedirects[r];if(l){var f=l[n];f&&(c=f(t,i,{getCacheKey:function(e){var t=o.dataIdFromObject(e);return t&&J({id:t,typename:e.__typename})}}))}}if(void 0===c)return{result:c,missing:[{object:t,fieldName:u,tolerable:!1}]};h=c,null!=h&&"object"===e(h)&&"json"===h.type&&(c=c.json);var h;return{result:c}}(t,r,n.name.value,V(n,o),a,{resultKey:B(n),directives:Y(n,o)});return Array.isArray(s.result)?this.combineExecResults(s,this.executeSubSelectedArray({field:n,array:s.result,execContext:i})):n.selectionSet?null==s.result?s:this.combineExecResults(s,this.executeSelectionSet({selectionSet:n.selectionSet,rootValue:s.result,execContext:i})):(ar(n,s.result),this.freezeResults&&Ee(s),s)},t.prototype.combineExecResults=function(){for(var e,t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return t.forEach(function(t){t.missing&&(e=e||[]).push.apply(e,t.missing)}),{result:t.pop().result,missing:e}},t.prototype.executeSubSelectedArray=function(e){var t,r=this,n=e.field,i=e.array,o=e.execContext;function a(e){return e.missing&&(t=t||[]).push.apply(t,e.missing),e.result}return i=i.map(function(e){return null===e?null:Array.isArray(e)?a(r.executeSubSelectedArray({field:n,array:e,execContext:o})):n.selectionSet?a(r.executeSelectionSet({selectionSet:n.selectionSet,rootValue:e,execContext:o})):(ar(n,e),e)}),this.freezeResults&&Object.freeze(i),{result:i,missing:t}},t}();function ar(e,t){if(!e.selectionSet&&K(t))throw new _("Missing selection set for object of type "+t.typename+" returned for query field "+e.name.value)}function sr(){return!0}var ur=function(){function e(e){void 0===e&&(e=Object.create(null)),this.data=e}return e.prototype.toObject=function(){return this.data},e.prototype.get=function(e){return this.data[e]},e.prototype.set=function(e,t){this.data[e]=t},e.prototype.delete=function(e){this.data[e]=void 0},e.prototype.clear=function(){this.data=Object.create(null)},e.prototype.replace=function(e){this.data=e||Object.create(null)},e}(),cr=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="WriteError",t}return w(t,e),t}(Error);var lr=function(){function t(){}return t.prototype.writeQueryToStore=function(e){var t=e.query,r=e.result,n=e.store,i=void 0===n?ir():n,o=e.variables,a=e.dataIdFromObject,s=e.fragmentMatcherFunction;return this.writeResultToStore({dataId:"ROOT_QUERY",result:r,document:t,store:i,variables:o,dataIdFromObject:a,fragmentMatcherFunction:s})},t.prototype.writeResultToStore=function(e){var t=e.dataId,r=e.result,n=e.document,i=e.store,o=void 0===i?ir():i,a=e.variables,s=e.dataIdFromObject,u=e.fragmentMatcherFunction,c=te(n);try{return this.writeSelectionSetToStore({result:r,dataId:t,selectionSet:c.selectionSet,context:{store:o,processedData:{},variables:Z({},ae(c),a),dataIdFromObject:s,fragmentMap:oe(ne(n)),fragmentMatcherFunction:u}})}catch(e){throw function(e,t){var r=new cr("Error writing result to store for query:\n "+JSON.stringify(t));return r.message+="\n"+e.message,r.stack=e.stack,r}(e,n)}},t.prototype.writeSelectionSetToStore=function(e){var t=this,r=e.result,n=e.dataId,i=e.selectionSet,o=e.context,a=o.variables,s=o.store,u=o.fragmentMap;return i.selections.forEach(function(e){var i;if(z(e,a))if(U(e)){var s=B(e),c=r[s];if(void 0!==c)t.writeFieldToStore({dataId:n,value:c,field:e,context:o});else{var l=!1,f=!1;e.directives&&e.directives.length&&(l=e.directives.some(function(e){return e.name&&"defer"===e.name.value}),f=e.directives.some(function(e){return e.name&&"client"===e.name.value})),l||f||!o.fragmentMatcherFunction||x.warn("Missing field "+s+" in "+JSON.stringify(r,null,2).substring(0,100))}}else{var h=void 0;G(e)?h=e:x(h=(u||{})[e.name.value],"No fragment named "+e.name.value+".");var p=!0;if(o.fragmentMatcherFunction&&h.typeCondition){var d=n||"self",v=J({id:d,typename:void 0}),y={store:new ur((i={},i[d]=r,i)),cacheRedirects:{}},m=o.fragmentMatcherFunction(v,h.typeCondition.name.value,y);!0!==me("production")&&"heuristic"===m&&x.error("WARNING: heuristic fragment matching going on!"),p=!!m}p&&t.writeSelectionSetToStore({result:r,selectionSet:h.selectionSet,dataId:n,context:o})}}),s},t.prototype.writeFieldToStore=function(t){var r,n,i,o=t.field,a=t.value,s=t.dataId,u=t.context,c=u.variables,l=u.dataIdFromObject,f=u.store,h=function(e,t){var r=null;e.directives&&(r={},e.directives.forEach(function(e){r[e.name.value]={},e.arguments&&e.arguments.forEach(function(n){var i=n.name,o=n.value;return q(r[e.name.value],i,o,t)})}));var n=null;return e.arguments&&e.arguments.length&&(n={},e.arguments.forEach(function(e){var r=e.name,i=e.value;return q(n,r,i,t)})),j(e.name.value,n,r)}(o,c);if(o.selectionSet&&null!==a)if(Array.isArray(a)){var p=s+"."+h;n=this.processArrayValue(a,p,o.selectionSet,u)}else{var d=s+"."+h,v=!0;if(fr(d)||(d="$"+d),l){var y=l(a);x(!y||!fr(y),'IDs returned by dataIdFromObject cannot begin with the "$" character.'),(y||"number"==typeof y&&0===y)&&(d=y,v=!1)}hr(d,o,u.processedData)||this.writeSelectionSetToStore({dataId:d,result:a,selectionSet:o.selectionSet,context:u});var m=a.__typename;n=J({id:d,typename:m},v);var b=(i=f.get(s))&&i[h];if(b!==n&&K(b)){var g=void 0!==b.typename,w=void 0!==m,O=g&&w&&b.typename!==m;x(!v||b.generated||O,"Store error: the application attempted to write an object with no provided id but the store already contains an id of "+b.id+" for this object. The selectionSet that was trying to be written is:\n"+JSON.stringify(o)),x(!g||w,"Store error: the application attempted to write an object with no provided typename but the store already contains an object with typename of "+b.typename+" for the object of id "+b.id+". The selectionSet that was trying to be written is:\n"+JSON.stringify(o)),b.generated&&(O?v||f.delete(b.id):function e(t,r,n){if(t===r)return!1;var i=n.get(t);var o=n.get(r);var a=!1;Object.keys(i).forEach(function(t){var r=i[t],s=o[t];K(r)&&fr(r.id)&&K(s)&&!F(r,s)&&e(r.id,s.id,n)&&(a=!0)});n.delete(t);var s=E({},i,o);if(F(s,o))return a;n.set(r,s);return!0}(b.id,n.id,f))}}else n=null!=a&&"object"===e(a)?{type:"json",json:a}:a;(i=f.get(s))&&F(n,i[h])||f.set(s,E({},i,((r={})[h]=n,r)))},t.prototype.processArrayValue=function(e,t,r,n){var i=this;return e.map(function(e,o){if(null===e)return null;var a=t+"."+o;if(Array.isArray(e))return i.processArrayValue(e,a,r,n);var s=!0;if(n.dataIdFromObject){var u=n.dataIdFromObject(e);u&&(a=u,s=!1)}return hr(a,r,n.processedData)||i.writeSelectionSetToStore({dataId:a,result:e,selectionSet:r,context:n}),J({id:a,typename:e.__typename},s)})},t}();function fr(e){return"$"===e[0]}function hr(e,t,r){if(!r)return!1;if(r[e]){if(r[e].indexOf(t)>=0)return!0;r[e].push(t)}else r[e]=[t];return!1}var pr={fragmentMatcher:new tr,dataIdFromObject:function(e){if(e.__typename){if(void 0!==e.id)return e.__typename+":"+e.id;if(void 0!==e._id)return e.__typename+":"+e._id}return null},addTypename:!0,resultCaching:!0,freezeResults:!1};var dr=Object.prototype.hasOwnProperty,vr=function(e){function t(t,r,n){var i=e.call(this,Object.create(null))||this;return i.optimisticId=t,i.parent=r,i.transaction=n,i}return w(t,e),t.prototype.toObject=function(){return E({},this.parent.toObject(),this.data)},t.prototype.get=function(e){return dr.call(this.data,e)?this.data[e]:this.parent.get(e)},t}(ur),yr=function(e){function t(t){void 0===t&&(t={});var r=e.call(this)||this;r.watches=new Set,r.typenameDocumentCache=new Map,r.cacheKeyRoot=new zt(de),r.silenceBroadcast=!1,r.config=E({},pr,t),r.config.customResolvers&&(x.warn("customResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating customResolvers in the next major version."),r.config.cacheRedirects=r.config.customResolvers),r.config.cacheResolvers&&(x.warn("cacheResolvers have been renamed to cacheRedirects. Please update your config as we will be deprecating cacheResolvers in the next major version."),r.config.cacheRedirects=r.config.cacheResolvers),r.addTypename=!!r.config.addTypename,r.data=r.config.resultCaching?new nr:new ur,r.optimisticData=r.data,r.storeWriter=new lr,r.storeReader=new or({cacheKeyRoot:r.cacheKeyRoot,freezeResults:t.freezeResults});var n=r,i=n.maybeBroadcastWatch;return r.maybeBroadcastWatch=$t(function(e){return i.call(r,e)},{makeCacheKey:function(e){if(!e.optimistic&&!e.previousResult)return n.data instanceof nr?n.cacheKeyRoot.lookup(e.query,JSON.stringify(e.variables)):void 0}}),r}return w(t,e),t.prototype.restore=function(e){return e&&this.data.replace(e),this},t.prototype.extract=function(e){return void 0===e&&(e=!1),(e?this.optimisticData:this.data).toObject()},t.prototype.read=function(e){if("string"==typeof e.rootId&&void 0===this.data.get(e.rootId))return null;var t=this.config.fragmentMatcher,r=t&&t.match;return this.storeReader.readQueryFromStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,rootId:e.rootId,fragmentMatcherFunction:r,previousResult:e.previousResult,config:this.config})||null},t.prototype.write=function(e){var t=this.config.fragmentMatcher,r=t&&t.match;this.storeWriter.writeResultToStore({dataId:e.dataId,result:e.result,variables:e.variables,document:this.transformDocument(e.query),store:this.data,dataIdFromObject:this.config.dataIdFromObject,fragmentMatcherFunction:r}),this.broadcastWatches()},t.prototype.diff=function(e){var t=this.config.fragmentMatcher,r=t&&t.match;return this.storeReader.diffQueryAgainstStore({store:e.optimistic?this.optimisticData:this.data,query:this.transformDocument(e.query),variables:e.variables,returnPartialData:e.returnPartialData,previousResult:e.previousResult,fragmentMatcherFunction:r,config:this.config})},t.prototype.watch=function(e){var t=this;return this.watches.add(e),function(){t.watches.delete(e)}},t.prototype.evict=function(e){throw new _("eviction is not implemented on InMemory Cache")},t.prototype.reset=function(){return this.data.clear(),this.broadcastWatches(),Promise.resolve()},t.prototype.removeOptimistic=function(e){for(var t=[],r=0,n=this.optimisticData;n instanceof vr;)n.optimisticId===e?++r:t.push(n),n=n.parent;if(r>0){for(this.optimisticData=n;t.length>0;){var i=t.pop();this.performTransaction(i.transaction,i.optimisticId)}this.broadcastWatches()}},t.prototype.performTransaction=function(e,t){var r=this.data,n=this.silenceBroadcast;this.silenceBroadcast=!0,"string"==typeof t&&(this.data=this.optimisticData=new vr(t,this.optimisticData,e));try{e(this)}finally{this.silenceBroadcast=n,this.data=r}this.broadcastWatches()},t.prototype.recordOptimisticTransaction=function(e,t){return this.performTransaction(e,t)},t.prototype.transformDocument=function(e){if(this.addTypename){var t=this.typenameDocumentCache.get(e);return t||(t=y(ee(e),{SelectionSet:{enter:function(e,t,r){if(!r||"OperationDefinition"!==r.kind){var n=e.selections;if(n&&!n.some(function(e){return U(e)&&("__typename"===e.name.value||0===e.name.value.lastIndexOf("__",0))})){var i=r;if(!(U(i)&&i.directives&&i.directives.some(function(e){return"export"===e.name.value})))return E({},e,{selections:n.concat([ue])})}}}}}),this.typenameDocumentCache.set(e,t),this.typenameDocumentCache.set(t,t)),t}return e},t.prototype.broadcastWatches=function(){var e=this;this.silenceBroadcast||this.watches.forEach(function(t){return e.maybeBroadcastWatch(t)})},t.prototype.maybeBroadcastWatch=function(e){e.callback(this.diff({query:e.query,variables:e.variables,previousResult:e.previousResult&&e.previousResult(),optimistic:e.optimistic}))},t}(Ot),mr=br;function br(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}br.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},br.prototype.reset=function(){this.attempts=0},br.prototype.setMin=function(e){this.ms=e},br.prototype.setMax=function(e){this.max=e},br.prototype.setJitter=function(e){this.jitter=e};var gr=n(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,o||e,a),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,a=new Array(o);i<o;i++)a[i]=n[i].fn;return a},s.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,o,a){var s=r?r+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,n),!0;case 4:return l.fn.call(l.context,t,n,i),!0;case 5:return l.fn.call(l.context,t,n,i,o),!0;case 6:return l.fn.call(l.context,t,n,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var h,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,n);break;case 4:l[c].fn.call(l[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(f-1);h<f;h++)u[h-1]=arguments[h];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},s.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},s.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||n&&s[u].context!==n)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&a(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s}),wr=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"==typeof e}});i(wr);var Er=n(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){return null!==t&&"object"===e(t)}});function Or(e){var t=e.split(/\r\n|[\n\r]/g),r=function(e){for(var t=null,r=1;r<e.length;r++){var n=e[r],i=Tr(n);if(i!==n.length&&((null===t||i<t)&&0===(t=i)))break}return null===t?0:t}(t);if(0!==r)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(;t.length>0&&Sr(t[0]);)t.shift();for(;t.length>0&&Sr(t[t.length-1]);)t.pop();return t.join("\n")}function Tr(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function Sr(e){return Tr(e)===e.length}function kr(e){return y(e,{leave:Ir})}i(Er);var Ir={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return xr(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=Rr("(",xr(e.variableDefinitions,", "),")"),i=xr(e.directives," "),o=e.selectionSet;return r||i||n||"query"!==t?xr([t,xr([r,n]),i,o]," "):o},VariableDefinition:function(e){var t=e.variable,r=e.type,n=e.defaultValue,i=e.directives;return t+": "+r+Rr(" = ",n)+Rr(" ",xr(i," "))},SelectionSet:function(e){return Nr(e.selections)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,i=e.directives,o=e.selectionSet;return xr([Rr("",t,": ")+r+Rr("(",xr(n,", "),")"),xr(i," "),o]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+Rr(" ",xr(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return xr(["...",Rr("on ",t),xr(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,i=e.directives,o=e.selectionSet;return"fragment ".concat(t).concat(Rr("(",xr(n,", "),")")," ")+"on ".concat(r," ").concat(Rr("",xr(i," ")," "))+o},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],o='"'===e[e.length-1],a=!n||o||r,s="";return!a||n&&i||(s+="\n"+t),s+=t?e.replace(/\n/g,"\n"+t):e,a&&(s+="\n"),'"""'+s.replace(/"""/g,'\\"""')+'"""'}(r,"description"===t?"":"  "):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+xr(e.values,", ")+"]"},ObjectValue:function(e){return"{"+xr(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+Rr("(",xr(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:function(e){var t=e.directives,r=e.operationTypes;return xr(["schema",xr(t," "),Nr(r)]," ")},OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:_r(function(e){return xr(["scalar",e.name,xr(e.directives," ")]," ")}),ObjectTypeDefinition:_r(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return xr(["type",t,Rr("implements ",xr(r," & ")),xr(n," "),Nr(i)]," ")}),FieldDefinition:_r(function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(Cr(r)?Rr("(\n",Ar(xr(r,"\n")),"\n)"):Rr("(",xr(r,", "),")"))+": "+n+Rr(" ",xr(i," "))}),InputValueDefinition:_r(function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return xr([t+": "+r,Rr("= ",n),xr(i," ")]," ")}),InterfaceTypeDefinition:_r(function(e){var t=e.name,r=e.directives,n=e.fields;return xr(["interface",t,xr(r," "),Nr(n)]," ")}),UnionTypeDefinition:_r(function(e){var t=e.name,r=e.directives,n=e.types;return xr(["union",t,xr(r," "),n&&0!==n.length?"= "+xr(n," | "):""]," ")}),EnumTypeDefinition:_r(function(e){var t=e.name,r=e.directives,n=e.values;return xr(["enum",t,xr(r," "),Nr(n)]," ")}),EnumValueDefinition:_r(function(e){return xr([e.name,xr(e.directives," ")]," ")}),InputObjectTypeDefinition:_r(function(e){var t=e.name,r=e.directives,n=e.fields;return xr(["input",t,xr(r," "),Nr(n)]," ")}),DirectiveDefinition:_r(function(e){var t=e.name,r=e.arguments,n=e.repeatable,i=e.locations;return"directive @"+t+(Cr(r)?Rr("(\n",Ar(xr(r,"\n")),"\n)"):Rr("(",xr(r,", "),")"))+(n?" repeatable":"")+" on "+xr(i," | ")}),SchemaExtension:function(e){var t=e.directives,r=e.operationTypes;return xr(["extend schema",xr(t," "),Nr(r)]," ")},ScalarTypeExtension:function(e){return xr(["extend scalar",e.name,xr(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return xr(["extend type",t,Rr("implements ",xr(r," & ")),xr(n," "),Nr(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return xr(["extend interface",t,xr(r," "),Nr(n)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return xr(["extend union",t,xr(r," "),n&&0!==n.length?"= "+xr(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return xr(["extend enum",t,xr(r," "),Nr(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return xr(["extend input",t,xr(r," "),Nr(n)]," ")}};function _r(e){return function(t){return xr([t.description,e(t)],"\n")}}function xr(e,t){return e?e.filter(function(e){return e}).join(t||""):""}function Nr(e){return e&&0!==e.length?"{\n"+Ar(xr(e,"\n"))+"\n}":""}function Rr(e,t,r){return t?e+t+(r||""):""}function Ar(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function Dr(e){return-1!==e.indexOf("\n")}function Cr(e){return e&&e.some(Dr)}var Qr=Object.freeze({__proto__:null,print:kr}),Pr=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"});var Fr=Object.freeze({__proto__:null,getOperationAST:function(e,t){for(var r=null,n=0,i=e.definitions;n<i.length;n++){var o=i[n];if(o.kind===Pr.OPERATION_DEFINITION)if(t){if(o.name&&o.name.value===t)return o}else{if(r)return null;r=o}}return r}}),Mr=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.GRAPHQL_WS="graphql-ws";t.GRAPHQL_SUBSCRIPTIONS="graphql-subscriptions"});i(Mr);Mr.GRAPHQL_WS,Mr.GRAPHQL_SUBSCRIPTIONS;var qr=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});t.WS_TIMEOUT=3e4});i(qr);qr.WS_TIMEOUT;var Lr=n(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){throw new Error("Static Class")}return e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_CONNECTION_TERMINATE="connection_terminate",e.GQL_START="start",e.GQL_DATA="data",e.GQL_ERROR="error",e.GQL_COMPLETE="complete",e.GQL_STOP="stop",e.SUBSCRIPTION_START="subscription_start",e.SUBSCRIPTION_DATA="subscription_data",e.SUBSCRIPTION_SUCCESS="subscription_success",e.SUBSCRIPTION_FAIL="subscription_fail",e.SUBSCRIPTION_END="subscription_end",e.INIT="init",e.INIT_SUCCESS="init_success",e.INIT_FAIL="init_fail",e.KEEP_ALIVE="keepalive",e}();t.default=r});i(Lr);var jr=o(Qr),Vr=o(Fr),Br=n(function(e,t){var r=a&&a.__assign||Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n=a&&a.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(a,s)}u((n=n.apply(e,t||[])).next())})},i=a&&a.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=void 0!==a?a:"undefined"!=typeof window?window:{},s=o.WebSocket||o.MozWebSocket,u=function(){function e(e,t,r,n){var i=t||{},o=i.connectionCallback,a=void 0===o?void 0:o,u=i.connectionParams,c=void 0===u?{}:u,l=i.timeout,f=void 0===l?qr.WS_TIMEOUT:l,h=i.reconnect,p=void 0!==h&&h,d=i.reconnectionAttempts,v=void 0===d?1/0:d,y=i.lazy,m=void 0!==y&&y,b=i.inactivityTimeout,g=void 0===b?0:b;if(this.wsImpl=r||s,!this.wsImpl)throw new Error("Unable to find native implementation, or alternative implementation for WebSocket!");this.wsProtocols=n||Mr.GRAPHQL_WS,this.connectionCallback=a,this.url=e,this.operations={},this.nextOperationId=0,this.wsTimeout=f,this.unsentMessagesQueue=[],this.reconnect=p,this.reconnecting=!1,this.reconnectionAttempts=v,this.lazy=!!m,this.inactivityTimeout=g,this.closedByUser=!1,this.backoff=new mr({jitter:.5}),this.eventEmitter=new gr.EventEmitter,this.middlewares=[],this.client=null,this.maxConnectTimeGenerator=this.createMaxConnectTimeGenerator(),this.connectionParams=this.getConnectionParams(c),this.lazy||this.connect()}return Object.defineProperty(e.prototype,"status",{get:function(){return null===this.client?this.wsImpl.CLOSED:this.client.readyState},enumerable:!0,configurable:!0}),e.prototype.close=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this.clearInactivityTimeout(),null!==this.client&&(this.closedByUser=t,e&&(this.clearCheckConnectionInterval(),this.clearMaxConnectTimeout(),this.clearTryReconnectTimeout(),this.unsubscribeAll(),this.sendMessage(void 0,Lr.default.GQL_CONNECTION_TERMINATE,null)),this.client.close(),this.client=null,this.eventEmitter.emit("disconnected"),e||this.tryReconnect())},e.prototype.request=function(e){var t,r,n=this.getObserver.bind(this),i=this.executeOperation.bind(this),o=this.unsubscribe.bind(this);return this.clearInactivityTimeout(),(t={})[$e.default]=function(){return this},t.subscribe=function(t,a,s){var u=n(t,a,s);return r=i(e,function(e,t){null===e&&null===t?u.complete&&u.complete():e?u.error&&u.error(e[0]):u.next&&u.next(t)}),{unsubscribe:function(){r&&(o(r),r=null)}}},t},e.prototype.on=function(e,t,r){var n=this.eventEmitter.on(e,t,r);return function(){n.off(e,t,r)}},e.prototype.onConnected=function(e,t){return this.on("connected",e,t)},e.prototype.onConnecting=function(e,t){return this.on("connecting",e,t)},e.prototype.onDisconnected=function(e,t){return this.on("disconnected",e,t)},e.prototype.onReconnected=function(e,t){return this.on("reconnected",e,t)},e.prototype.onReconnecting=function(e,t){return this.on("reconnecting",e,t)},e.prototype.onError=function(e,t){return this.on("error",e,t)},e.prototype.unsubscribeAll=function(){var e=this;Object.keys(this.operations).forEach(function(t){e.unsubscribe(t)})},e.prototype.applyMiddlewares=function(e){var t=this;return new Promise(function(r,n){var i,o;i=t.middlewares.slice(),o=t,function t(a){if(a)n(a);else if(i.length>0){var s=i.shift();s&&s.applyMiddleware.apply(o,[e,t])}else r(e)}()})},e.prototype.use=function(e){var t=this;return e.map(function(e){if("function"!=typeof e.applyMiddleware)throw new Error("Middleware must implement the applyMiddleware function.");t.middlewares.push(e)}),this},e.prototype.getConnectionParams=function(e){return function(){return new Promise(function(t,r){if("function"==typeof e)try{return t(e.call(null))}catch(e){return r(e)}t(e)})}},e.prototype.executeOperation=function(e,t){var r=this;null===this.client&&this.connect();var n=this.generateOperationId();return this.operations[n]={options:e,handler:t},this.applyMiddlewares(e).then(function(e){r.checkOperationOptions(e,t),r.operations[n]&&(r.operations[n]={options:e,handler:t},r.sendMessage(n,Lr.default.GQL_START,e))}).catch(function(e){r.unsubscribe(n),t(r.formatErrors(e))}),n},e.prototype.getObserver=function(e,t,r){return"function"==typeof e?{next:function(t){return e(t)},error:function(e){return t&&t(e)},complete:function(){return r&&r()}}:e},e.prototype.createMaxConnectTimeGenerator=function(){var e=this.wsTimeout;return new mr({min:1e3,max:e,factor:1.2})},e.prototype.clearCheckConnectionInterval=function(){this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnectionIntervalId=null)},e.prototype.clearMaxConnectTimeout=function(){this.maxConnectTimeoutId&&(clearTimeout(this.maxConnectTimeoutId),this.maxConnectTimeoutId=null)},e.prototype.clearTryReconnectTimeout=function(){this.tryReconnectTimeoutId&&(clearTimeout(this.tryReconnectTimeoutId),this.tryReconnectTimeoutId=null)},e.prototype.clearInactivityTimeout=function(){this.inactivityTimeoutId&&(clearTimeout(this.inactivityTimeoutId),this.inactivityTimeoutId=null)},e.prototype.setInactivityTimeout=function(){var e=this;this.inactivityTimeout>0&&0===Object.keys(this.operations).length&&(this.inactivityTimeoutId=setTimeout(function(){0===Object.keys(e.operations).length&&e.close()},this.inactivityTimeout))},e.prototype.checkOperationOptions=function(e,t){var r=e.query,n=e.variables,i=e.operationName;if(!r)throw new Error("Must provide a query.");if(!t)throw new Error("Must provide an handler.");if(!wr.default(r)&&!Vr.getOperationAST(r,i)||i&&!wr.default(i)||n&&!Er.default(n))throw new Error("Incorrect option types. query must be a string or a document,`operationName` must be a string, and `variables` must be an object.")},e.prototype.buildMessage=function(e,t,n){return{id:e,type:t,payload:n&&n.query?r({},n,{query:"string"==typeof n.query?n.query:jr.print(n.query)}):n}},e.prototype.formatErrors=function(e){return Array.isArray(e)?e:e&&e.errors?this.formatErrors(e.errors):e&&e.message?[e]:[{name:"FormatedError",message:"Unknown error",originalError:e}]},e.prototype.sendMessage=function(e,t,r){this.sendMessageRaw(this.buildMessage(e,t,r))},e.prototype.sendMessageRaw=function(e){switch(this.status){case this.wsImpl.OPEN:var t=JSON.stringify(e);try{JSON.parse(t)}catch(t){this.eventEmitter.emit("error",new Error("Message must be JSON-serializable. Got: "+e))}this.client.send(t);break;case this.wsImpl.CONNECTING:this.unsentMessagesQueue.push(e);break;default:this.reconnecting||this.eventEmitter.emit("error",new Error("A message was not sent because socket is not connected, is closing or is already closed. Message was: "+JSON.stringify(e)))}},e.prototype.generateOperationId=function(){return String(++this.nextOperationId)},e.prototype.tryReconnect=function(){var e=this;if(this.reconnect&&!(this.backoff.attempts>=this.reconnectionAttempts)){this.reconnecting||(Object.keys(this.operations).forEach(function(t){e.unsentMessagesQueue.push(e.buildMessage(t,Lr.default.GQL_START,e.operations[t].options))}),this.reconnecting=!0),this.clearTryReconnectTimeout();var t=this.backoff.duration();this.tryReconnectTimeoutId=setTimeout(function(){e.connect()},t)}},e.prototype.flushUnsentMessagesQueue=function(){var e=this;this.unsentMessagesQueue.forEach(function(t){e.sendMessageRaw(t)}),this.unsentMessagesQueue=[]},e.prototype.checkConnection=function(){this.wasKeepAliveReceived?this.wasKeepAliveReceived=!1:this.reconnecting||this.close(!1,!0)},e.prototype.checkMaxConnectTimeout=function(){var e=this;this.clearMaxConnectTimeout(),this.maxConnectTimeoutId=setTimeout(function(){e.status!==e.wsImpl.OPEN&&(e.reconnecting=!0,e.close(!1,!0))},this.maxConnectTimeGenerator.duration())},e.prototype.connect=function(){var e=this;this.client=new this.wsImpl(this.url,this.wsProtocols),this.checkMaxConnectTimeout(),this.client.onopen=function(){return n(e,void 0,void 0,function(){var e,t;return i(this,function(r){switch(r.label){case 0:if(this.status!==this.wsImpl.OPEN)return[3,4];this.clearMaxConnectTimeout(),this.closedByUser=!1,this.eventEmitter.emit(this.reconnecting?"reconnecting":"connecting"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.connectionParams()];case 2:return e=r.sent(),this.sendMessage(void 0,Lr.default.GQL_CONNECTION_INIT,e),this.flushUnsentMessagesQueue(),[3,4];case 3:return t=r.sent(),this.sendMessage(void 0,Lr.default.GQL_CONNECTION_ERROR,t),this.flushUnsentMessagesQueue(),[3,4];case 4:return[2]}})})},this.client.onclose=function(){e.closedByUser||e.close(!1,!1)},this.client.onerror=function(t){e.eventEmitter.emit("error",t)},this.client.onmessage=function(t){var r=t.data;e.processReceivedData(r)}},e.prototype.processReceivedData=function(e){var t,n;try{n=(t=JSON.parse(e)).id}catch(t){throw new Error("Message must be JSON-parseable. Got: "+e)}if(-1===[Lr.default.GQL_DATA,Lr.default.GQL_COMPLETE,Lr.default.GQL_ERROR].indexOf(t.type)||this.operations[n])switch(t.type){case Lr.default.GQL_CONNECTION_ERROR:this.connectionCallback&&this.connectionCallback(t.payload);break;case Lr.default.GQL_CONNECTION_ACK:this.eventEmitter.emit(this.reconnecting?"reconnected":"connected"),this.reconnecting=!1,this.backoff.reset(),this.maxConnectTimeGenerator.reset(),this.connectionCallback&&this.connectionCallback();break;case Lr.default.GQL_COMPLETE:this.operations[n].handler(null,null),delete this.operations[n];break;case Lr.default.GQL_ERROR:this.operations[n].handler(this.formatErrors(t.payload),null),delete this.operations[n];break;case Lr.default.GQL_DATA:var i=t.payload.errors?r({},t.payload,{errors:this.formatErrors(t.payload.errors)}):t.payload;this.operations[n].handler(null,i);break;case Lr.default.GQL_CONNECTION_KEEP_ALIVE:var o=void 0===this.wasKeepAliveReceived;this.wasKeepAliveReceived=!0,o&&this.checkConnection(),this.checkConnectionIntervalId&&(clearInterval(this.checkConnectionIntervalId),this.checkConnection()),this.checkConnectionIntervalId=setInterval(this.checkConnection.bind(this),this.wsTimeout);break;default:throw new Error("Invalid message type!")}else this.unsubscribe(n)},e.prototype.unsubscribe=function(e){this.operations[e]&&(delete this.operations[e],this.setInactivityTimeout(),this.sendMessage(e,Lr.default.GQL_STOP,void 0))},e}();t.SubscriptionClient=u});i(Br);var Ur=Br.SubscriptionClient,Gr=function(e){function t(t){var r=e.call(this)||this;return r.subscriptionClient=t instanceof Ur?t:new Ur(t.uri,t.options,t.webSocketImpl),r}return w(t,e),t.prototype.request=function(e){return this.subscriptionClient.request(e)},t}(We),Kr={http:{includeQuery:!0,includeExtensions:!1},headers:{accept:"*/*","content-type":"application/json"},options:{method:"POST"}},Jr=function(e,t,r){var n=new Error(r);throw n.name="ServerError",n.response=e,n.statusCode=e.status,n.result=t,n},Yr=function(e,t){var r;try{r=JSON.stringify(e)}catch(e){var n=new _("Network request failed. "+t+" is not serializable: "+e.message);throw n.parseError=e,n}return r},zr=function(e){void 0===e&&(e={});var t=e.uri,r=void 0===t?"/graphql":t,n=e.fetch,i=e.includeExtensions,o=e.useGETForQueries,a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r}(e,["uri","fetch","includeExtensions","useGETForQueries"]);!function(e){if(!e&&"undefined"==typeof fetch){var t="unfetch";throw"undefined"==typeof window&&(t="node-fetch"),new _("\nfetch is not found globally and no fetcher passed, to fix pass a fetch for\nyour environment like https://www.npmjs.com/package/"+t+".\n\nFor example:\nimport fetch from '"+t+"';\nimport { createHttpLink } from 'apollo-link-http';\n\nconst link = createHttpLink({ uri: '/graphql', fetch: fetch });")}}(n),n||(n=fetch);var s={http:{includeExtensions:i},options:a.fetchOptions,credentials:a.credentials,headers:a.headers};return new We(function(e){var t=function(e,t){var r=e.getContext().uri;return r||("function"==typeof t?t(e):t||"/graphql")}(e,r),i=e.getContext(),a={};if(i.clientAwareness){var u=i.clientAwareness,c=u.name,l=u.version;c&&(a["apollographql-client-name"]=c),l&&(a["apollographql-client-version"]=l)}var f,h=E({},a,i.headers),p={http:i.http,options:i.fetchOptions,credentials:i.credentials,headers:h},d=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i=E({},t.options,{headers:t.headers,credentials:t.credentials}),o=t.http;r.forEach(function(e){i=E({},i,e.options,{headers:E({},i.headers,e.headers)}),e.credentials&&(i.credentials=e.credentials),o=E({},o,e.http)});var a=e.operationName,s=e.extensions,u=e.variables,c=e.query,l={operationName:a,variables:u};return o.includeExtensions&&(l.extensions=s),o.includeQuery&&(l.query=kr(c)),{options:i,body:l}}(e,Kr,s,p),v=d.options,y=d.body;if(!v.signal){var m=function(){if("undefined"==typeof AbortController)return{controller:!1,signal:!1};var e=new AbortController;return{controller:e,signal:e.signal}}(),b=m.controller,g=m.signal;(f=b)&&(v.signal=g)}if(o&&!e.query.definitions.some(function(e){return"OperationDefinition"===e.kind&&"mutation"===e.operation})&&(v.method="GET"),"GET"===v.method){var w=function(e,t){var r=[],n=function(e,t){r.push(e+"="+encodeURIComponent(t))};"query"in t&&n("query",t.query);t.operationName&&n("operationName",t.operationName);if(t.variables){var i=void 0;try{i=Yr(t.variables,"Variables map")}catch(e){return{parseError:e}}n("variables",i)}if(t.extensions){var o=void 0;try{o=Yr(t.extensions,"Extensions map")}catch(e){return{parseError:e}}n("extensions",o)}var a="",s=e,u=e.indexOf("#");-1!==u&&(a=e.substr(u),s=e.substr(0,u));var c=-1===s.indexOf("?")?"?":"&";return{newURI:s+c+r.join("&")+a}}(t,y),O=w.newURI,T=w.parseError;if(T)return Ve(T);t=O}else try{v.body=Yr(y,"Payload")}catch(T){return Ve(T)}return new qe(function(r){var i;return n(t,v).then(function(t){return e.setContext({response:t}),t}).then((i=e,function(e){return e.text().then(function(t){try{return JSON.parse(t)}catch(n){var r=n;return r.name="ServerParseError",r.response=e,r.statusCode=e.status,r.bodyText=t,Promise.reject(r)}}).then(function(t){return e.status>=300&&Jr(e,t,"Response not successful: Received status code "+e.status),Array.isArray(t)||t.hasOwnProperty("data")||t.hasOwnProperty("errors")||Jr(e,t,"Server response was missing for query '"+(Array.isArray(i)?i.map(function(e){return e.operationName}):i.operationName)+"'."),t})})).then(function(e){return r.next(e),r.complete(),e}).catch(function(e){"AbortError"!==e.name&&(e.result&&e.result.errors&&e.result.data&&r.next(e.result),r.error(e))}),function(){f&&f.abort()}})})};var Wr=function(e){function t(t){return e.call(this,zr(t).request)||this}return w(t,e),t}(We),Hr={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(Hr.arrayBuffer)var Xr=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],$r=ArrayBuffer.isView||function(e){return e&&Xr.indexOf(Object.prototype.toString.call(e))>-1};function Zr(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function en(e){return"string"!=typeof e&&(e=String(e)),e}function tn(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return Hr.iterable&&(t[Symbol.iterator]=function(){return t}),t}function rn(e){this.map={},e instanceof rn?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function nn(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function on(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function an(e){var t=new FileReader,r=on(t);return t.readAsArrayBuffer(e),r}function sn(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function un(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Hr.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Hr.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Hr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Hr.arrayBuffer&&Hr.blob&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=sn(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Hr.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||$r(e))?this._bodyArrayBuffer=sn(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Hr.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Hr.blob&&(this.blob=function(){var e=nn(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?nn(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(an)}),this.text=function(){var e,t,r,n=nn(this);if(n)return n;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,r=on(t),t.readAsText(e),r;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Hr.formData&&(this.formData=function(){return this.text().then(fn)}),this.json=function(){return this.text().then(JSON.parse)},this}rn.prototype.append=function(e,t){e=Zr(e),t=en(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},rn.prototype.delete=function(e){delete this.map[Zr(e)]},rn.prototype.get=function(e){return e=Zr(e),this.has(e)?this.map[e]:null},rn.prototype.has=function(e){return this.map.hasOwnProperty(Zr(e))},rn.prototype.set=function(e,t){this.map[Zr(e)]=en(t)},rn.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},rn.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),tn(e)},rn.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),tn(e)},rn.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),tn(e)},Hr.iterable&&(rn.prototype[Symbol.iterator]=rn.prototype.entries);var cn=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function ln(e,t){var r,n,i=(t=t||{}).body;if(e instanceof ln){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new rn(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new rn(t.headers)),this.method=(r=t.method||this.method||"GET",n=r.toUpperCase(),cn.indexOf(n)>-1?n:r),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function fn(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function hn(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new rn(t.headers),this.url=t.url||"",this._initBody(e)}ln.prototype.clone=function(){return new ln(this,{body:this._bodyInit})},un.call(ln.prototype),un.call(hn.prototype),hn.prototype.clone=function(){return new hn(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new rn(this.headers),url:this.url})},hn.error=function(){var e=new hn(null,{status:0,statusText:""});return e.type="error",e};var pn=[301,302,303,307,308];hn.redirect=function(e,t){if(-1===pn.indexOf(t))throw new RangeError("Invalid status code");return new hn(null,{status:t,headers:{location:e}})};var dn=self.DOMException;try{new dn}catch(e){(dn=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack}).prototype=Object.create(Error.prototype),dn.prototype.constructor=dn}function vn(e,t){return new Promise(function(r,n){var i=new ln(e,t);if(i.signal&&i.signal.aborted)return n(new dn("Aborted","AbortError"));var o=new XMLHttpRequest;function a(){o.abort()}o.onload=function(){var e,t,n={status:o.status,statusText:o.statusText,headers:(e=o.getAllResponseHeaders()||"",t=new rn,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();t.append(n,i)}}),t)};n.url="responseURL"in o?o.responseURL:n.headers.get("X-Request-URL");var i="response"in o?o.response:o.responseText;r(new hn(i,n))},o.onerror=function(){n(new TypeError("Network request failed"))},o.ontimeout=function(){n(new TypeError("Network request failed"))},o.onabort=function(){n(new dn("Aborted","AbortError"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&Hr.blob&&(o.responseType="blob"),i.headers.forEach(function(e,t){o.setRequestHeader(t,e)}),i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a)}),o.send(void 0===i._bodyInit?null:i._bodyInit)})}vn.polyfill=!0,self.fetch||(self.fetch=vn,self.Headers=rn,self.Request=ln,self.Response=hn),o(Object.freeze({__proto__:null,Headers:rn,Request:ln,Response:hn,get DOMException(){return dn},fetch:vn}));var yn=self.fetch.bind(self),mn={"content-type":"application/json"},bn=function(){return mn},gn=new yr,wn=new bt({link:Ye(function(e){var t=ie(e.query);return"OperationDefinition"===t.kind&&"subscription"===t.operation},new Gr({uri:"ws://hasura-midcodes1.herokuapp.com/v1/graphql",options:{reconnect:!0,lazy:!0,connectionParams:function(){return{headers:bn()}}}}),new Wr({uri:"https://hasura-midcodes1.herokuapp.com/v1/graphql",fetch:yn,headers:bn()})),cache:gn});function En(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function On(e,t){if(!Boolean(e))throw new Error(t)}function Tn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.prototype.toString;e.prototype.toJSON=t,e.prototype.inspect=t,u&&(e.prototype[u]=t)}function Sn(t){return(Sn="function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?function(t){return e(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)})(t)}function kn(e,t){for(var r,n=/\r\n|[\n\r]/g,i=1,o=t+1;(r=n.exec(e.body))&&r.index<t;)i+=1,o=t+1-(r.index+r[0].length);return{line:i,column:o}}function In(e){return _n(e.source,kn(e.source,e.start))}function _n(e,t){var r=e.locationOffset.column-1,n=Nn(r)+e.body,i=t.line-1,o=e.locationOffset.line-1,a=t.line+o,s=1===t.line?r:0,u=t.column+s,c="".concat(e.name,":").concat(a,":").concat(u,"\n"),l=n.split(/\r\n|[\n\r]/g),f=l[i];if(f.length>120){for(var h=Math.floor(u/80),p=u%80,d=[],v=0;v<f.length;v+=80)d.push(f.slice(v,v+80));return c+xn([["".concat(a),d[0]]].concat(d.slice(1,h+1).map(function(e){return["",e]}),[[" ",Nn(p-1)+"^"],["",d[h+1]]]))}return c+xn([["".concat(a-1),l[i-1]],["".concat(a),f],["",Nn(u-1)+"^"],["".concat(a+1),l[i+1]]])}function xn(e){var t=e.filter(function(e){e[0];return void 0!==e[1]}),r=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,n=e[0],i=e[1];return Nn(r-(t=n).length)+t+(i?" | "+i:" |")}).join("\n")}function Nn(e){return Array(e+1).join(" ")}function Rn(e,t,r,n,i,o,a){var s=Array.isArray(t)?0!==t.length?t:void 0:t?[t]:void 0,u=r;if(!u&&s){var c=s[0];u=c&&c.loc&&c.loc.source}var l,f=n;!f&&s&&(f=s.reduce(function(e,t){return t.loc&&e.push(t.loc.start),e},[])),f&&0===f.length&&(f=void 0),n&&r?l=n.map(function(e){return kn(r,e)}):s&&(l=s.reduce(function(e,t){return t.loc&&e.push(kn(t.loc.source,t.loc.start)),e},[]));var h,p=a;if(null==p&&null!=o){var d=o.extensions;"object"==Sn(h=d)&&null!==h&&(p=d)}Object.defineProperties(this,{message:{value:e,enumerable:!0,writable:!0},locations:{value:l||void 0,enumerable:Boolean(l)},path:{value:i||void 0,enumerable:Boolean(i)},nodes:{value:s||void 0},source:{value:u||void 0},positions:{value:f||void 0},originalError:{value:o},extensions:{value:p||void 0,enumerable:Boolean(p)}}),o&&o.stack?Object.defineProperty(this,"stack",{value:o.stack,writable:!0,configurable:!0}):Error.captureStackTrace?Error.captureStackTrace(this,Rn):Object.defineProperty(this,"stack",{value:Error().stack,writable:!0,configurable:!0})}function An(e,t,r){return new Rn("Syntax Error: ".concat(r),void 0,e,[t])}Rn.prototype=Object.create(Error.prototype,{constructor:{value:Rn},name:{value:"GraphQLError"},toString:{value:function(){return function(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var i=n[r];i.loc&&(t+="\n\n"+In(i.loc))}else if(e.source&&e.locations)for(var o=0,a=e.locations;o<a.length;o++){var s=a[o];t+="\n\n"+_n(e.source,s)}return t}(this)}}});var Dn,Cn=function(e,t,r){this.body=e,this.name=t||"GraphQL request",this.locationOffset=r||{line:1,column:1},this.locationOffset.line>0||On(0,"line in locationOffset is 1-indexed and must be positive"),this.locationOffset.column>0||On(0,"column in locationOffset is 1-indexed and must be positive")};Dn=Cn,"function"==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Dn.prototype,Symbol.toStringTag,{get:function(){return this.constructor.name}});var Qn=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function Pn(){return this.lastToken=this.token,this.token=this.lookahead()}function Fn(){var e=this.token;if(e.kind!==Qn.EOF)do{e=e.next||(e.next=Ln(this,e))}while(e.kind===Qn.COMMENT);return e}function Mn(e,t,r,n,i,o,a){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=a,this.prev=o,this.next=null}function qn(e){return isNaN(e)?Qn.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Ln(e,t){var r=e.source,n=r.body,i=n.length,o=function(e,t,r){var n=e.length,i=t;for(;i<n;){var o=e.charCodeAt(i);if(9===o||32===o||44===o||65279===o)++i;else if(10===o)++i,++r.line,r.lineStart=i;else{if(13!==o)break;10===e.charCodeAt(i+1)?i+=2:++i,++r.line,r.lineStart=i}}return i}(n,t.end,e),a=e.line,s=1+o-e.lineStart;if(o>=i)return new Mn(Qn.EOF,i,i,a,s,t);var u=n.charCodeAt(o);switch(u){case 33:return new Mn(Qn.BANG,o,o+1,a,s,t);case 35:return function(e,t,r,n,i){var o,a=e.body,s=t;do{o=a.charCodeAt(++s)}while(!isNaN(o)&&(o>31||9===o));return new Mn(Qn.COMMENT,t,s,r,n,i,a.slice(t+1,s))}(r,o,a,s,t);case 36:return new Mn(Qn.DOLLAR,o,o+1,a,s,t);case 38:return new Mn(Qn.AMP,o,o+1,a,s,t);case 40:return new Mn(Qn.PAREN_L,o,o+1,a,s,t);case 41:return new Mn(Qn.PAREN_R,o,o+1,a,s,t);case 46:if(46===n.charCodeAt(o+1)&&46===n.charCodeAt(o+2))return new Mn(Qn.SPREAD,o,o+3,a,s,t);break;case 58:return new Mn(Qn.COLON,o,o+1,a,s,t);case 61:return new Mn(Qn.EQUALS,o,o+1,a,s,t);case 64:return new Mn(Qn.AT,o,o+1,a,s,t);case 91:return new Mn(Qn.BRACKET_L,o,o+1,a,s,t);case 93:return new Mn(Qn.BRACKET_R,o,o+1,a,s,t);case 123:return new Mn(Qn.BRACE_L,o,o+1,a,s,t);case 124:return new Mn(Qn.PIPE,o,o+1,a,s,t);case 125:return new Mn(Qn.BRACE_R,o,o+1,a,s,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return function(e,t,r,n,i){var o=e.body,a=o.length,s=t+1,u=0;for(;s!==a&&!isNaN(u=o.charCodeAt(s))&&(95===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122);)++s;return new Mn(Qn.NAME,t,s,r,n,i,o.slice(t,s))}(r,o,a,s,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return function(e,t,r,n,i,o){var a=e.body,s=r,u=t,c=!1;45===s&&(s=a.charCodeAt(++u));if(48===s){if((s=a.charCodeAt(++u))>=48&&s<=57)throw An(e,u,"Invalid number, unexpected digit after 0: ".concat(qn(s),"."))}else u=jn(e,u,s),s=a.charCodeAt(u);46===s&&(c=!0,s=a.charCodeAt(++u),u=jn(e,u,s),s=a.charCodeAt(u));69!==s&&101!==s||(c=!0,43!==(s=a.charCodeAt(++u))&&45!==s||(s=a.charCodeAt(++u)),u=jn(e,u,s),s=a.charCodeAt(u));if(46===s||69===s||101===s)throw An(e,u,"Invalid number, expected digit but got: ".concat(qn(s),"."));return new Mn(c?Qn.FLOAT:Qn.INT,t,u,n,i,o,a.slice(t,u))}(r,o,u,a,s,t);case 34:return 34===n.charCodeAt(o+1)&&34===n.charCodeAt(o+2)?function(e,t,r,n,i,o){var a=e.body,s=t+3,u=s,c=0,l="";for(;s<a.length&&!isNaN(c=a.charCodeAt(s));){if(34===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2))return l+=a.slice(u,s),new Mn(Qn.BLOCK_STRING,t,s+3,r,n,i,Or(l));if(c<32&&9!==c&&10!==c&&13!==c)throw An(e,s,"Invalid character within String: ".concat(qn(c),"."));10===c?(++s,++o.line,o.lineStart=s):13===c?(10===a.charCodeAt(s+1)?s+=2:++s,++o.line,o.lineStart=s):92===c&&34===a.charCodeAt(s+1)&&34===a.charCodeAt(s+2)&&34===a.charCodeAt(s+3)?(l+=a.slice(u,s)+'"""',u=s+=4):++s}throw An(e,s,"Unterminated string.")}(r,o,a,s,t,e):function(e,t,r,n,i){var o=e.body,a=t+1,s=a,u=0,c="";for(;a<o.length&&!isNaN(u=o.charCodeAt(a))&&10!==u&&13!==u;){if(34===u)return c+=o.slice(s,a),new Mn(Qn.STRING,t,a+1,r,n,i,c);if(u<32&&9!==u)throw An(e,a,"Invalid character within String: ".concat(qn(u),"."));if(++a,92===u){switch(c+=o.slice(s,a-1),u=o.charCodeAt(a)){case 34:c+='"';break;case 47:c+="/";break;case 92:c+="\\";break;case 98:c+="\b";break;case 102:c+="\f";break;case 110:c+="\n";break;case 114:c+="\r";break;case 116:c+="\t";break;case 117:var l=(h=o.charCodeAt(a+1),p=o.charCodeAt(a+2),d=o.charCodeAt(a+3),v=o.charCodeAt(a+4),Vn(h)<<12|Vn(p)<<8|Vn(d)<<4|Vn(v));if(l<0){var f=o.slice(a+1,a+5);throw An(e,a,"Invalid character escape sequence: \\u".concat(f,"."))}c+=String.fromCharCode(l),a+=4;break;default:throw An(e,a,"Invalid character escape sequence: \\".concat(String.fromCharCode(u),"."))}s=++a}}var h,p,d,v;throw An(e,a,"Unterminated string.")}(r,o,a,s,t)}throw An(r,o,function(e){if(e<32&&9!==e&&10!==e&&13!==e)return"Cannot contain the invalid character ".concat(qn(e),".");if(39===e)return"Unexpected single quote character ('), did you mean to use a double quote (\")?";return"Cannot parse the unexpected character ".concat(qn(e),".")}(u))}function jn(e,t,r){var n=e.body,i=t,o=r;if(o>=48&&o<=57){do{o=n.charCodeAt(++i)}while(o>=48&&o<=57);return i}throw An(e,i,"Invalid number, expected digit but got: ".concat(qn(o),"."))}function Vn(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}Tn(Mn,function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}});var Bn=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});var Un=function(){function e(e,t){var r="string"==typeof e?new Cn(e):e;r instanceof Cn||On(0,"Must provide Source. Received: ".concat(h(r))),this._lexer=function(e,t){var r=new Mn(Qn.SOF,0,0,0,0,null);return{source:e,options:t,lastToken:r,token:r,line:1,lineStart:0,advance:Pn,lookahead:Fn}}(r),this._options=t||{}}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(Qn.NAME);return{kind:Pr.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:Pr.DOCUMENT,definitions:this.many(Qn.SOF,this.parseDefinition,Qn.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(Qn.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(Qn.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(Qn.BRACE_L))return{kind:Pr.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,r=this.parseOperationType();return this.peek(Qn.NAME)&&(t=this.parseName()),{kind:Pr.OPERATION_DEFINITION,operation:r,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(Qn.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(Qn.PAREN_L,this.parseVariableDefinition,Qn.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:Pr.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(Qn.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(Qn.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(Qn.DOLLAR),{kind:Pr.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:Pr.SELECTION_SET,selections:this.many(Qn.BRACE_L,this.parseSelection,Qn.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(Qn.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,r=this._lexer.token,n=this.parseName();return this.expectOptionalToken(Qn.COLON)?(e=n,t=this.parseName()):t=n,{kind:Pr.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(Qn.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(Qn.PAREN_L,t,Qn.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(Qn.COLON),{kind:Pr.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:Pr.ARGUMENT,name:this.parseName(),value:(this.expectToken(Qn.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(Qn.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(Qn.NAME)?{kind:Pr.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:Pr.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e=this._lexer.token;return this.expectKeyword("fragment"),this._options.experimentalFragmentVariables?{kind:Pr.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}:{kind:Pr.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case Qn.BRACKET_L:return this.parseList(e);case Qn.BRACE_L:return this.parseObject(e);case Qn.INT:return this._lexer.advance(),{kind:Pr.INT,value:t.value,loc:this.loc(t)};case Qn.FLOAT:return this._lexer.advance(),{kind:Pr.FLOAT,value:t.value,loc:this.loc(t)};case Qn.STRING:case Qn.BLOCK_STRING:return this.parseStringLiteral();case Qn.NAME:return"true"===t.value||"false"===t.value?(this._lexer.advance(),{kind:Pr.BOOLEAN,value:"true"===t.value,loc:this.loc(t)}):"null"===t.value?(this._lexer.advance(),{kind:Pr.NULL,loc:this.loc(t)}):(this._lexer.advance(),{kind:Pr.ENUM,value:t.value,loc:this.loc(t)});case Qn.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:Pr.STRING,value:e.value,block:e.kind===Qn.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,r=this._lexer.token;return{kind:Pr.LIST,values:this.any(Qn.BRACKET_L,function(){return t.parseValueLiteral(e)},Qn.BRACKET_R),loc:this.loc(r)}},t.parseObject=function(e){var t=this,r=this._lexer.token;return{kind:Pr.OBJECT,fields:this.any(Qn.BRACE_L,function(){return t.parseObjectField(e)},Qn.BRACE_R),loc:this.loc(r)}},t.parseObjectField=function(e){var t=this._lexer.token,r=this.parseName();return this.expectToken(Qn.COLON),{kind:Pr.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(Qn.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(Qn.AT),{kind:Pr.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(Qn.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(Qn.BRACKET_R),e={kind:Pr.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(Qn.BANG)?{kind:Pr.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:Pr.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===Qn.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(Qn.STRING)||this.peek(Qn.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token;this.expectKeyword("schema");var t=this.parseDirectives(!0),r=this.many(Qn.BRACE_L,this.parseOperationTypeDefinition,Qn.BRACE_R);return{kind:Pr.SCHEMA_DEFINITION,directives:t,operationTypes:r,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(Qn.COLON);var r=this.parseNamedType();return{kind:Pr.OPERATION_TYPE_DEFINITION,operation:t,type:r,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var r=this.parseName(),n=this.parseDirectives(!0);return{kind:Pr.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),o=this.parseFieldsDefinition();return{kind:Pr.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:o,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e=[];if(this.expectOptionalKeyword("implements")){this.expectOptionalToken(Qn.AMP);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(Qn.AMP)||this._options.allowLegacySDLImplementsInterfaces&&this.peek(Qn.NAME))}return e},t.parseFieldsDefinition=function(){return this._options.allowLegacySDLEmptyFields&&this.peek(Qn.BRACE_L)&&this._lexer.lookahead().kind===Qn.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(Qn.BRACE_L,this.parseFieldDefinition,Qn.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(Qn.COLON);var i=this.parseTypeReference(),o=this.parseDirectives(!0);return{kind:Pr.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:o,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(Qn.PAREN_L,this.parseInputValueDef,Qn.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(Qn.COLON);var n,i=this.parseTypeReference();this.expectOptionalToken(Qn.EQUALS)&&(n=this.parseValueLiteral(!0));var o=this.parseDirectives(!0);return{kind:Pr.INPUT_VALUE_DEFINITION,description:t,name:r,type:i,defaultValue:n,directives:o,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseFieldsDefinition();return{kind:Pr.INTERFACE_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:Pr.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){var e=[];if(this.expectOptionalToken(Qn.EQUALS)){this.expectOptionalToken(Qn.PIPE);do{e.push(this.parseNamedType())}while(this.expectOptionalToken(Qn.PIPE))}return e},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:Pr.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(Qn.BRACE_L,this.parseEnumValueDefinition,Qn.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseDirectives(!0);return{kind:Pr.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:Pr.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(Qn.BRACE_L,this.parseInputValueDef,Qn.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===Qn.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),r=this.optionalMany(Qn.BRACE_L,this.parseOperationTypeDefinition,Qn.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return{kind:Pr.SCHEMA_EXTENSION,directives:t,operationTypes:r,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),r=this.parseDirectives(!0);if(0===r.length)throw this.unexpected();return{kind:Pr.SCALAR_TYPE_EXTENSION,name:t,directives:r,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return{kind:Pr.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:Pr.INTERFACE_TYPE_EXTENSION,name:t,directives:r,fields:n,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:Pr.UNION_TYPE_EXTENSION,name:t,directives:r,types:n,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:Pr.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:Pr.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(Qn.AT);var r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var o=this.parseDirectiveLocations();return{kind:Pr.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:o,loc:this.loc(e)}},t.parseDirectiveLocations=function(){this.expectOptionalToken(Qn.PIPE);var e=[];do{e.push(this.parseDirectiveLocation())}while(this.expectOptionalToken(Qn.PIPE));return e},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==Bn[t.value])return t;throw this.unexpected(e)},t.loc=function(e){if(!this._options.noLocation)return new Gn(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw An(this._lexer.source,t.start,"Expected ".concat(e,", found ").concat(Kn(t)))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==Qn.NAME||t.value!==e)throw An(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(Kn(t)));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===Qn.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=e||this._lexer.token;return An(this._lexer.source,t.start,"Unexpected ".concat(Kn(t)))},t.any=function(e,t,r){this.expectToken(e);for(var n=[];!this.expectOptionalToken(r);)n.push(t.call(this));return n},t.optionalMany=function(e,t,r){if(this.expectOptionalToken(e)){var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n}return[]},t.many=function(e,t,r){this.expectToken(e);var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n},e}();function Gn(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}function Kn(e){var t=e.value;return t?"".concat(e.kind,' "').concat(t,'"'):e.kind}Tn(Gn,function(){return{start:this.start,end:this.end}});var Jn=o(Object.freeze({__proto__:null,parse:function(e,t){return new Un(e,t).parseDocument()},parseValue:function(e,t){var r=new Un(e,t);r.expectToken(Qn.SOF);var n=r.parseValueLiteral(!1);return r.expectToken(Qn.EOF),n},parseType:function(e,t){var r=new Un(e,t);r.expectToken(Qn.SOF);var n=r.parseTypeReference();return r.expectToken(Qn.EOF),n}})).parse;function Yn(e){return e.replace(/[\s,]+/g," ").trim()}var zn={},Wn={};var Hn=!0;var Xn=!1;function $n(e){var t=Yn(e);if(zn[t])return zn[t];var r=Jn(e,{experimentalFragmentVariables:Xn});if(!r||"Document"!==r.kind)throw new Error("Not a valid GraphQL document.");return r=function e(t,r){var n=Object.prototype.toString.call(t);if("[object Array]"===n)return t.map(function(t){return e(t,r)});if("[object Object]"!==n)throw new Error("Unexpected input.");r&&t.loc&&delete t.loc,t.loc&&(delete t.loc.startToken,delete t.loc.endToken);var i,o,a,s=Object.keys(t);for(i in s)s.hasOwnProperty(i)&&(o=t[s[i]],"[object Object]"!==(a=Object.prototype.toString.call(o))&&"[object Array]"!==a||(t[s[i]]=e(o,!0)));return t}(r=function(e){for(var t,r={},n=[],i=0;i<e.definitions.length;i++){var o=e.definitions[i];if("FragmentDefinition"===o.kind){var a=o.name.value,s=Yn((t=o.loc).source.body.substring(t.start,t.end));Wn.hasOwnProperty(a)&&!Wn[a][s]?(Hn&&console.warn("Warning: fragment with name "+a+" already exists.\ngraphql-tag enforces all fragment names across your application to be unique; read more about\nthis in the docs: http://dev.apollodata.com/core/fragments.html#unique-names"),Wn[a][s]=!0):Wn.hasOwnProperty(a)||(Wn[a]={},Wn[a][s]=!0),r[s]||(r[s]=!0,n.push(o))}else n.push(o)}return e.definitions=n,e}(r),!1),zn[t]=r,r}function Zn(){for(var e=Array.prototype.slice.call(arguments),t=e[0],r="string"==typeof t?t:t[0],n=1;n<e.length;n++)e[n]&&e[n].kind&&"Document"===e[n].kind?r+=e[n].loc.source.body:r+=e[n],r+=t[n];return $n(r)}Zn.default=Zn,Zn.resetCaches=function(){zn={},Wn={}},Zn.disableFragmentWarnings=function(){Hn=!1},Zn.enableExperimentalFragmentVariables=function(){Xn=!0},Zn.disableExperimentalFragmentVariables=function(){Xn=!1};var ei=Zn;export{En as _,ei as a,Ce as b,wn as c,De as g,Pe as q,Fe as s};
